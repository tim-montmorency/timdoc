<!-- 

████████╗██╗███╗   ███╗██████╗  ██████╗  ██████╗
╚══██╔══╝██║████╗ ████║██╔══██╗██╔═══██╗██╔════╝
   ██║   ██║██╔████╔██║██║  ██║██║   ██║██║
   ██║   ██║██║╚██╔╝██║██║  ██║██║   ██║██║
   ██║   ██║██║ ╚═╝ ██║██████╔╝╚██████╔╝╚██████╗
   ╚═╝   ╚═╝╚═╝     ╚═╝╚═════╝  ╚═════╝  ╚═════╝

-->
<!DOCTYPE html>
<html lang="fr-ca">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-P2R7T89B4B"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-P2R7T89B4B');
        </script>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="noindex, nofollow" />
        <meta itemprop="digest" content="">
        <link rel="icon" type="image/x-icon" href="../../../shared/images/favicon.ico">
        <link rel="stylesheet" href="../../../shared/styles/styles.min.css">
        <script src="../../../shared/jscripts/highlight.min.js"></script>
        <script src="../../../shared/jscripts/swiper-bundle.min.js"></script>
        <script src="../../../shared/jscripts/vue.global.prod.js"></script>
        <script src="../../../shared/jscripts/timdoc.min.js"></script>
        <script>const shared = '../../../shared/';</script>
        <title>Mémoire cache</title>
    </head>
    <body>
        <script>document.body.classList.add(localStorage.getItem('darkmode') === 'true' ? 'dark' : 'light');</script>
        <a id="top"></a>
        <header>
            <div id="logo" @click="goToTop('../../', '../../../index/')" title="Retour à l'accueil">
                <svg class="logo-tim" viewBox="0 0 953.6 303.8">
                   <path d="m785.7 166.8 16.3 16.3 16.2-16.3L930.6 54.5v226.2h-257v-226l112 112.1zM650.6.8v303h303V.7h-1.8L802 150.4 652 .7h-1.5zM324.5.4v303h303V.5h-303zm130 129.9a33.5 33.5 0 0 0 34.7 55.3l94.8 94.8H347.5v-257h257v236.4l-94.8-94.7a33.5 33.5 0 0 0-55.3-34.8zM206.4 0 0 206.5V303h303V0h-96.5zM23 280v-64l85.6-85.6 119.9 119.8 20.5-20.5L129.1 110 216 23h64v257H23z"/>
                </svg>
            </div>
            <div title="Interrupteur" id="lightswitch" ref="lightswitch" @click="lightswitch()"></div>
        </header>
        <main>
            <!-- MAIN HEADER EOF -->
            <div id="subhead">
                <div id="breadcrumb">
                    <div id="breadcrumb_normal"><a href="../../">Projet Web</a> > <a href="../">WordPress</a> ></div>
                    <div id="breadcrumb_index"><a href="../../../index/">Index des connaissances</a>&nbsp;>&nbsp;<a href="../../../index/web/">Web</a>&nbsp;>&nbsp;<a href="../../../index/web/wordpress/">WordPress</a>&nbsp;>&nbsp;</div>
                </div>
                <h1 id="title"><img src="../medias/icon.webp">&nbsp;Mémoire cache</h1>
            </div>
            <article>
                <div id="contents">
                    <!-- ARTICLE HEADER EOF -->

<p>Lorsqu’on développe un thème WordPress, bien qu’il soit possible de modifier directement les fichiers de modèles PHP (templates), le fichier <em>main.js</em> ou <em>style.css</em>, il arrive parfois que les changements n’apparaissent pas immédiatement sur la page, même après avoir actualisé celle-ci dans le navigateur. Pourquoi ? À cause de la mémoire cache, plus couramment appelée <em>la cache</em>.</p>

<dots></dots>
<grostitre>La cache du navigateur local</grostitre>
<p>La cache du navigateur côté client (local) est une mémoire réservée au stockage des informations, des pages ou des fichiers fréquemment utilisés. Il permet à votre navigateur de ne pas avoir à charger ces derniers à chaque accès, ce qui accélère ainsi leur affichage.</p>
<p>Pour vider votre cache selon le navigateur, vous pouvez consulter la ressource ci-compte:  <doclink href='https://ecom-support.lightspeedhq.com/hc/fr/articles/220320128-Purge-de-la-m%C3%A9moire-cache-de-votre-navigateur'>Blogue de Lightspeed</doclink></p>


<dots></dots>
<grostitre>La cache WordPress</grostitre>
<p>En bref, la cache est un emplacement de stockage qui permet la collecte de données temporaires de votre site côté serveur dans le but d’accélérer leur chargement lors d’une requête SQL ultérieure. Lorsqu'on développe, si on ne voit pas les modifications effectuées dans le développement du thème, il peut être recommandé de vider la cache du site WordPress côté serveur. Selon l'article suivant, WordPress n'active pas l'option de vider la cache par défaut pour éviter des problèmes de performances à votre site:</p>
<doclink href='https://wordpress.com/fr/support/vider-le-cache-de-votre-site/'>WordPress.com > Vider le cache</doclink>

<p>Cependant, selon ce <a href="https://www.hostinger.com/tutorials/wordpress-changes-not-showing" target="_blank" rel="noopener noreferrer">tutoriel Hostinger</a>, on propose d'installer une extension qui vous permettra d'avoir plus de flexibilité pour gérer la cache côté serveur, donc l'ajout d,un bouton pour <em>Vider la cache</em>. Dans votre cas, je vous conseille <a href="https://wordpress.org/plugins/w3-total-cache/" data-wpel-link="external" target="_blank" rel="nofollow noopener noreferrer">W3 Total Cache</a>.</p>
<p>W3 Total Cache fonctionne automatiquement en arrière-plan dès son installation. Il offre plusieurs façons de vider le cache du site. Il suffit de survoler le menu Performance dans la barre d'outils de WordPress et de cliquer sur Purger tous les caches.</p>

<img src="images/w3cache-purgeallcache.webp" alt="Performance/Purge all caches">


<dots></dots>
<grostitre>Fichiers CSS, JS</grostitre>
<p>Lorsqu'on est en développement d'une thème WordPress voici comment désactiver temporairement la cache du/des fichiers CSS et JS via <em>function.php</em>.</p>
    
<p><strong>Pour le fichier CSS : </strong></p>
<highlight lang="php">wp_enqueue_style(&#039;default&#039;, get_template_directory_uri() . &#039;/style.css&#039;);</highlight>


<p>ajoutez:</p>
<highlight lang="php">&#039;?v=&#039;.time()</highlight>
<p>vous devriez avoir quelques chose comme ceci :</p>
<highlight lang="php">wp_enqueue_style(&#039;default&#039;, get_template_directory_uri() . &#039;/style.css?v=&#039;.time());</highlight>
<br><br>
<p>Le résultat ressemblera à ceci dans votre HTML généré:</p>
<highlight lang="html">&lt;link rel=&quot;stylesheet&quot; id=&quot;default-css&quot; href=&quot;http://localhost:8888/mon-siteweb/wp-content/themes/theme-de-base/style.css?v=1730327653&quot; type=&quot;text/css&quot; media=&quot;all&quot;&gt;</highlight>

<p><strong>Pour le fichier JS : </strong></p>
<p>Faites de même pour le fichier JS que vous développez et qui est chargé via <em>function.php</em>.</p>

<dots></dots>
<p><strong>Explications</strong></p>
<p>La fonction PHP <span class='inline-code'>time()</span> renvoie l'heure actuelle en nombre de secondes depuis l'époque Unix (1er janvier 1970 00:00:00 GMT). Ainsi, à chaque fois que vous affichez la page, la valeur du paramètre d'URL <span class='inline-code'>v</span> sera toujours différente, forçant à aller chercher la dernière version du fichier style.css, plutôt que de récupérer celui qui se trouve dans la cache.</p>

<warning>Lorsque vous aurez terminé de développer le site, avant de le lancer en production (live), il faudra enlever ce paramètre <span class='inline-code'>?v='.time()</span> afin réactiver la cache à nouveau sur ces fichiers.</warning>


 




                    <!-- ARTICLE FOOTER SOF -->
                </div>
                <tabledesmatieres></tabledesmatieres>
            </article>        <!-- MAIN FOOTER SOF -->
        </main>
        <footer>
           
            <div id="copyright"> 
            Ce contenu a été tiré en grande partie du site web de <a href="https://smnarnold.com/" target="_blank" rel="noopener noreferrer">Simon Arnold</a>.<br>
            Collège Montmorency | Techniques d'intégration multimédia
            </div>
        </footer>
        <script>app.mount('body');</script>
    </body>
</html>