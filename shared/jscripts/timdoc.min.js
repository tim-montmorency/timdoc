/*!

████████╗██╗███╗   ███╗██████╗  ██████╗  ██████╗
╚══██╔══╝██║████╗ ████║██╔══██╗██╔═══██╗██╔════╝
   ██║   ██║██╔████╔██║██║  ██║██║   ██║██║
   ██║   ██║██║╚██╔╝██║██║  ██║██║   ██║██║
   ██║   ██║██║ ╚═╝ ██║██████╔╝╚██████╔╝╚██████╗
   ╚═╝   ╚═╝╚═╝     ╚═╝╚═════╝  ╚═════╝  ╚═════╝

*/
const bind=(e,t,s)=>{"string"==typeof e?document.querySelectorAll(e).forEach((e=>{e.addEventListener(t,s)})):e.addEventListener(t,s)},create=(e,t=null)=>{const s=document.createElement(e);return t&&(s.className=t),s};HTMLElement.prototype.create=function(e,t=null){const s=create(e,t);return this.append(s),s};const now=()=>{let e=new Date,t=e.getTimezoneOffset();return e=new Date(e.getTime()-60*t*1e3),e.toISOString()},syncjson=e=>{try{const t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),JSON.parse(t.responseText)}catch(e){return!1}},decimalToHexString=e=>(e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()),hex=e=>{let t=[],s=new DataView(e);for(let e=0;e<s.byteLength;e+=4){let i="00000000",a=(i+s.getUint32(e).toString(16)).slice(-i.length);t.push(a)}return t.join("")},cyrb53=(e,t=0)=>{let s=3735928559^t,i=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),s=Math.imul(s^t,2654435761),i=Math.imul(i^t,1597334677);return s=Math.imul(s^s>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),(a=4294967296*(2097151&i)+(s>>>0))<0&&(a=4294967295+a+1),a.toString(16).toUpperCase();var a},md5=e=>{var t="0123456789abcdef";const s=e=>{var s,i="";for(s=0;s<=3;s++)i+=t.charAt(e>>8*s+4&15)+t.charAt(e>>8*s&15);return i},i=(e,t)=>{var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s},a=(e,t,s,a,o,r)=>i(((e,t)=>e<<t|e>>>32-t)(i(i(t,e),i(a,r)),o),s),o=(e,t,s,i,o,r,l)=>a(t&s|~t&i,e,t,o,r,l),r=(e,t,s,i,o,r,l)=>a(t&i|s&~i,e,t,o,r,l),l=(e,t,s,i,o,r,l)=>a(t^s^i,e,t,o,r,l),c=(e,t,s,i,o,r,l)=>a(s^(t|~i),e,t,o,r,l);var n,h,d,p,m,u=(e=>{var t,s=1+(e.length+8>>6),i=new Array(16*s);for(t=0;t<16*s;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<t%4*8;return i[t>>2]|=128<<t%4*8,i[16*s-2]=8*e.length,i})(""+e),v=1732584193,g=-271733879,w=-1732584194,b=271733878;for(n=0;n<u.length;n+=16)h=v,d=g,p=w,m=b,v=o(v,g,w,b,u[n+0],7,-680876936),b=o(b,v,g,w,u[n+1],12,-389564586),w=o(w,b,v,g,u[n+2],17,606105819),g=o(g,w,b,v,u[n+3],22,-1044525330),v=o(v,g,w,b,u[n+4],7,-176418897),b=o(b,v,g,w,u[n+5],12,1200080426),w=o(w,b,v,g,u[n+6],17,-1473231341),g=o(g,w,b,v,u[n+7],22,-45705983),v=o(v,g,w,b,u[n+8],7,1770035416),b=o(b,v,g,w,u[n+9],12,-1958414417),w=o(w,b,v,g,u[n+10],17,-42063),g=o(g,w,b,v,u[n+11],22,-1990404162),v=o(v,g,w,b,u[n+12],7,1804603682),b=o(b,v,g,w,u[n+13],12,-40341101),w=o(w,b,v,g,u[n+14],17,-1502002290),v=r(v,g=o(g,w,b,v,u[n+15],22,1236535329),w,b,u[n+1],5,-165796510),b=r(b,v,g,w,u[n+6],9,-1069501632),w=r(w,b,v,g,u[n+11],14,643717713),g=r(g,w,b,v,u[n+0],20,-373897302),v=r(v,g,w,b,u[n+5],5,-701558691),b=r(b,v,g,w,u[n+10],9,38016083),w=r(w,b,v,g,u[n+15],14,-660478335),g=r(g,w,b,v,u[n+4],20,-405537848),v=r(v,g,w,b,u[n+9],5,568446438),b=r(b,v,g,w,u[n+14],9,-1019803690),w=r(w,b,v,g,u[n+3],14,-187363961),g=r(g,w,b,v,u[n+8],20,1163531501),v=r(v,g,w,b,u[n+13],5,-1444681467),b=r(b,v,g,w,u[n+2],9,-51403784),w=r(w,b,v,g,u[n+7],14,1735328473),v=l(v,g=r(g,w,b,v,u[n+12],20,-1926607734),w,b,u[n+5],4,-378558),b=l(b,v,g,w,u[n+8],11,-2022574463),w=l(w,b,v,g,u[n+11],16,1839030562),g=l(g,w,b,v,u[n+14],23,-35309556),v=l(v,g,w,b,u[n+1],4,-1530992060),b=l(b,v,g,w,u[n+4],11,1272893353),w=l(w,b,v,g,u[n+7],16,-155497632),g=l(g,w,b,v,u[n+10],23,-1094730640),v=l(v,g,w,b,u[n+13],4,681279174),b=l(b,v,g,w,u[n+0],11,-358537222),w=l(w,b,v,g,u[n+3],16,-722521979),g=l(g,w,b,v,u[n+6],23,76029189),v=l(v,g,w,b,u[n+9],4,-640364487),b=l(b,v,g,w,u[n+12],11,-421815835),w=l(w,b,v,g,u[n+15],16,530742520),v=c(v,g=l(g,w,b,v,u[n+2],23,-995338651),w,b,u[n+0],6,-198630844),b=c(b,v,g,w,u[n+7],10,1126891415),w=c(w,b,v,g,u[n+14],15,-1416354905),g=c(g,w,b,v,u[n+5],21,-57434055),v=c(v,g,w,b,u[n+12],6,1700485571),b=c(b,v,g,w,u[n+3],10,-1894986606),w=c(w,b,v,g,u[n+10],15,-1051523),g=c(g,w,b,v,u[n+1],21,-2054922799),v=c(v,g,w,b,u[n+8],6,1873313359),b=c(b,v,g,w,u[n+15],10,-30611744),w=c(w,b,v,g,u[n+6],15,-1560198380),g=c(g,w,b,v,u[n+13],21,1309151649),v=c(v,g,w,b,u[n+4],6,-145523070),b=c(b,v,g,w,u[n+11],10,-1120210379),w=c(w,b,v,g,u[n+2],15,718787259),g=c(g,w,b,v,u[n+9],21,-343485551),v=i(v,h),g=i(g,d),w=i(w,p),b=i(b,m);return s(v)+s(g)+s(w)+s(b)},lowslug=e=>e.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9\s\-]/g,"").replace(/[\s\t]+/g,"-"),invertColor=(e,t)=>{if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)return!1;var s=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return t?.299*s+.587*i+.114*a>186?"#000000":"#FFFFFF":(s=(255-s).toString(16),i=(255-i).toString(16),a=(255-a).toString(16),"#"+pad(s)+pad(i)+pad(a))},pad=(e,t)=>{t=t||2;var s="000000000"+e;return s.substr(s.length-t)},toDataURL=async e=>{const t=await fetch(e).then((e=>e.blob()));return URL.createObjectURL(t)},download=async e=>{const t=document.createElement("a");t.href=await toDataURL(e),t.download=new URL(e).href.replace(/^.*(\\|\/|\:)/,""),document.body.appendChild(t),t.click(),document.body.removeChild(t)},downloadJsonObject=(e,t)=>{const s=document.createElement("a");s.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t")),s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)},hcd=(e,t)=>{do{var s=e}while((t=s%(e=t))>0);return e},selectElementText=e=>{let t=document.createRange();t.selectNodeContents(e);let s=window.getSelection();s.removeAllRanges(),s.addRange(t)};class Modal{cont=null;opened=!1;constructor(e=""){this.cont=create("div","modal"),"string"==typeof e?this.cont.innerHTML=e:this.cont.append(e),document.body.append(this.cont)}show(){this.opened=!0,setTimeout((()=>{this.cont.classList.add("show")}),1)}hide(){this.opened=!1,this.cont.classList.remove("show")}}class PasswordModal extends Modal{password=null;input=null;clb=null;constructor(e){let t=create("form","password-modal");t.innerHTML='<table><thead><tr><th>Mot de passe</th></tr></thead><tbody><tr><td><input style="width: 100%;" type="password" name="password" autocomplete="off" required></td></tr></tbody><tfoot><tr><td><input type="submit" name="save" value="Accéder"></td></tr></tfoot></table>',super(t),this.password=e,this.input=t.querySelector('input[name="password"]'),bind(t,"submit",(e=>{e.preventDefault(),this.save()}))}show(e=null){this.clb=e,document.body.style.overflow="hidden",super.show(),setTimeout((()=>{this.input.focus()}),100)}hide(){document.body.style.overflow="auto",super.hide()}save(){md5(this.input.value)===this.password?(this.hide(),this.clb&&this.clb()):(this.input.value="",this.input.focus())}}function timdocMount(){app.config.compilerOptions.whitespace="preserve",app.mount("body"),hljs.highlightAll()}const darkmode_cache="darkmode_cache_1",urlParams=new URLSearchParams(window.location.search);localStorage.getItem("darkmode")&&localStorage.getItem(darkmode_cache)||(localStorage.setItem(darkmode_cache,"true"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?localStorage.setItem("darkmode","true"):localStorage.setItem("darkmode","false")),null!==urlParams.get("dark")&&localStorage.setItem("darkmode","true"),null!==urlParams.get("light")&&localStorage.setItem("darkmode","false");const app=Vue.createApp({data:()=>({lightSwitches:[],tableOfContents:[],theme:"true"===localStorage.getItem("darkmode")?"dark":"light"}),mounted(){const e=new URL(document.referrer,document.baseURI),t=document.getElementById("breadcrumb");t&&/\/index\//g.test(e.pathname)&&t.classList.add("index"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="dark"==this.theme?"lightswitch--off":"lightswitch--on"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{e.matches?this.setDarkMode():this.setLightMode()})),this.$nextTick((()=>{document.querySelectorAll("span.inline-code").forEach((e=>{e.addEventListener("click",(t=>{selectElementText(e),t.preventDefault(),t.stopPropagation()}))}));const e=document.querySelector('meta[itemprop="digest"]');e&&e.content&&"true"!==sessionStorage.getItem("digest-"+cyrb53(e.content))&&new PasswordModal(e.content).show((()=>{sessionStorage.setItem("digest-"+cyrb53(e.content),"true")}))}))},methods:{goToTop(e=null,t=null){const s=new URL(document.referrer,document.baseURI);t&&/\/index\//g.test(s.pathname)?document.location.href=t:e?document.location.href=e:window.scrollTo(0,0)},registerLightSwitch(e){this.lightSwitches.push(e)},lightswitch(){"lightswitch--on"==this.$refs.lightswitch.className?this.setDarkMode():this.setLightMode()},setDarkMode(){this.theme="dark",document.body.className="dark",localStorage.setItem("darkmode","true"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="lightswitch--off"),this.lightSwitches.forEach((e=>{e.lightSwitchOff()}))},setLightMode(){this.theme="light",document.body.className="light",localStorage.setItem("darkmode","false"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="lightswitch--on"),this.lightSwitches.forEach((e=>{e.lightSwitchOn()}))}}});app.component("tabledesmatieres",{data:()=>({list:""}),created(){this.$nextTick((()=>{let e="";this.$root.tableOfContents.forEach((t=>{e+='<li><a href="#'+t.id+'">'+t.name+"</a></li>"})),this.list=e}))},methods:{goToTop(e){e.preventDefault(),window.scrollTo(0,0),location.hash=""}},template:'<div id="contents_table" v-if="this.list != \'\'"><div class="contents_table__table"><a href="#top" @click="this.goToTop" class="no-underline"><strong>Table des matières</strong></a><ul v-html="list"></ul></div></div>'}),app.component("grostitre",{data(){return{id:lowslug(this.$slots.default()[0].children)}},created(){this.$root.tableOfContents.push({id:this.id,name:this.$slots.default()[0].children})},methods:{click(e){var t=window.location.origin+window.location.pathname+"#"+this.id;navigator.clipboard.writeText(t);let s=e.currentTarget;s.classList.add("copied"),setTimeout((()=>{s.classList.remove("copied")}),1e3)}},template:'<div class="grostitre"><a :id="this.id"></a><h2><slot /></h2><div class="grostitre__chain" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"></path></svg></div><div class="grostitre__linkcopied">Lien copié &#x2713;</div></div>'}),app.component("info",{template:'<div class="infobubble info"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("warning",{template:'<div class="infobubble warning"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("alert",{template:'<div class="infobubble alert"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("bravo",{template:'<div class="infobubble bravo"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("thumbsup",{template:'<div class="infobubble thumbsup"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("incode",{template:'<span class="inline-code"><slot/></span>'}),app.component("mediafile",{props:["src","spacer","addr"],data(){let e="true"==this.spacer?" spacerr":"";try{var t=new URL(this.src)}catch(e){t=new URL(this.src,document.baseURI)}switch(t.href.split(".").pop().toLocaleLowerCase()){case"svg":var s="type-svg.webp";break;case"jpg":s="type-jpg.webp";break;case"png":s="type-png.webp";break;case"webp":s="type-png.webp";break;case"zip":s="type-zip.webp";break;case"mp3":s="type-audio.webp";break;default:s="type-file.webp"}let i=!0;return void 0!==this.addr&&"false"==this.addr&&(i=!1),{isaddr:i,space:e,link:t.href,icon:shared+"images/types/"+s}},methods:{click(e){navigator.clipboard.writeText(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},download(e){download(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},focus(e){e.currentTarget.select()}},template:'<div :class="\'mediafile\' + this.space"><div class="mediafile__icon" :style="\'background-image: url(\\\'\' + this.icon + \'\\\')\'">&nbsp;</div><div class="mediafile__text"><slot/></div><div class="mediafile__download" @click="download($event)"><svg fill="currentColor" viewBox="0 0 538 538"><path d="M463 466H75c-12 0-22 10-22 22v28c0 12 10 22 22 22h388c12 0 21-10 21-22v-28c1-12-9-22-21-22zm-209-38c4 4 10 6 15 6 6 0 11-2 15-6l147-147c9-9 9-22 0-31l-20-20c-8-9-22-9-31 0l-75 75V21c0-11-10-21-22-21h-28c-12 0-22 10-22 21v285l-75-76c-9-8-22-8-31 0l-20 20c-9 9-9 22 0 31l147 147z"/></svg></div><div class="mediafile__chain" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"></path></svg></div><div class="mediafile__linkcopied">Lien copié &#x2713;</div></div><div v-if="this.isaddr" :class="\'mediafile__link\' + this.space"><input readonly type="text" class="mediafile__link-text" :value="this.link" @focus="focus($event)"></div><div class="mediafile__spacer"></div>'}),app.component("codepen",{props:["id","title","tab","height"],data(){var e="html,result",t=400;void 0!==this.tab&&(e=this.tab),void 0!==this.height&&(t=this.height),e=encodeURIComponent(e);let s="";return void 0!==this.$slots.default&&(s=this.$slots.default()[0].children),this.$root.registerLightSwitch(this),{user:"tim-momo",theme:"dark"==this.$root.theme?"43847":"44431",bheight:t,cheight:parseInt(t)+2,defaulttab:e,remark:s}},methods:{lightSwitchOn(){this.theme="44431"},lightSwitchOff(){this.theme="43847"}},template:'<div class="codepen-container" :style="\'height: \' + cheight + \'px\'"><iframe :src="\'https://codepen.io/\' + user + \'/embed/\' + id + \'?default-tab=\' + defaulttab + \'&theme-id=\' + theme" class="codepen" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true" :style="\'height: \' + bheight + \'px;\'"></iframe></div>'}),app.component("exercice",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"exercice.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'<a class="exercice" target="_blank" :href="this.url"><div class="exercice-container"><div class="exercice-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div><div class="exercice-abstract"><em class="exercice-label">EXERCICE</em><span class="exercice-title">{{ name }}</span><span class="exercice-description">{{ description }}</span></div></div></a>'}),app.component("tool",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"tool.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'<a class="tool" target="_blank" :href="this.url"><div class="tool-container"><div class="tool-abstract"><em class="tool-label">OUTIL</em><span class="tool-title">{{ name }}</span><span class="tool-description">{{ description }}</span></div><div class="tool-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div></div></a>'}),app.component("knowmore",{props:["href"],template:'<a class="knowmore" target="_blank" :href="this.href"><div class="knowmore__title">&#128214; EN SAVOIR PLUS</div><div class="knowmore__abstract"><slot/></div></a>'}),app.component("doclink",{props:["href","spacer"],data(){let e="";try{switch(new URL(this.href).hostname){case"www.w3schools.com":e="w3schools";break;case"developer.mozilla.org":e="mozilla";break;case"codepen.io":e="codepen";break;case"css-tricks.com":e="csstricks";break;case"getbootstrap.com":case"icons.getbootstrap.com":e="bootstrap";break;case"fonts.google.com":e="googlefonts";break;case"fr.wikipedia.org":case"en.wikipedia.org":e="wikipedia";break;case"ogp.me":e="ogp";break;case"developers.facebook.com":e="facebook";break;case"greensock.com":e="greensock";break;case"smnarnold.com":e="smnarnold";break;case"trello.com":e="trello";break;case"sass-lang.com":e="sass";break;case"developer.vuforia.com":e="vuforia";break;case"cmontmorency365-my.sharepoint.com":case"cmontmorency365.sharepoint.com":case"www.cmontmorency.qc.ca":case"teams.microsoft.com":case"ccti.cmontmorency.qc.ca":e="momo";break;case"github.com":e="github";break;case"developers.google.com":e="google";break;case"youtu.be":case"youtube.com":case"www.youtube.com":e="youtube";break;case"www.unity.com":case"learn.unity.com":case"id.unity.com":case"assetstore.unity.com":case"unity.com":e="unity";break;case"vuejs.org":case"v3.vuejs.org":e="vuejs";break;case"developer.wordpress.org":case"fr-ca.wordpress.org":case"fr.wordpress.org":case"wordpress.org":case"wordpress.com":case"www.advancedcustomfields.com":e="wordpress";break;case"npmjs.com":case"docs.npmjs.com":e="npm"}}catch(t){e="zip"==this.href.split(".").pop().toLocaleLowerCase()?"zipfile":""}return"true"==this.spacer&&(e+=" spacer"),{class:e}},template:'<a :class="\'doclink \' + this.class" target="_blank" :href="this.href"><div class="doclink-container"><div class="doclink-icon"></div><span class="doclink-title"><slot /></span></div></a>'}),app.component("dots",{template:'<div class="dots"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor"><rect width="256" height="128" fill="none"/><circle cx="128" cy="128" r="6"/><circle cx="64" cy="128" r="6"/><circle cx="192" cy="128" r="6"/></svg></div>'}),app.component("color",{props:["spacer"],data(){let e=this.$slots.default()[0].children;return{color:e,invert:invertColor(e,!0),text:e,space:"true"==this.spacer?" spacer":"",clicked:""}},methods:{click(){navigator.clipboard.writeText(this.color),this.clicked=" clicked",this.text="Copié!",setTimeout((()=>{this.clicked="",this.text=this.color}),2e3)}},template:"<span :class=\"'color' + this.space + this.clicked\" :style=\"'color: ' + this.invert + '; background-color: ' + this.color + ';'\" @click=\"click()\">{{ text }}</span>"}),app.component("clip",{props:["src","title"],data(){let e,t=new URL(this.src,document.baseURI).pathname.split(".").shift(),s=t.split("/").pop(),i=syncjson(t+".json"),a=this.title??"";if(i.media.track.forEach((t=>{"Video"==t["@type"]&&(e=t)})),null==e)return{};{let i=hcd(e.Width,e.Height),o=e.Width/i+"/"+e.Height/i;return{id:s,name:t,title:a,width:e.Width,height:e.Height,aspect:o,thumbnail_url:t+".jpg",playbtn:"block",player:""}}},methods:{play(){this.player='<video id="'+this.id+'" width="100%" height="100%" autoplay="true" poster="'+this.thumbnail_url+'" data-setup=\'{"fluid": true}\' controls preload="auto"><source src="'+this.src+'" type="video/mp4" /></video>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\' + this.thumbnail_url + \'); aspect-ratio: \' + this.aspect + \';\'"><div class="oembed-wrapper__title" :style="\'display: \' + this.playbtn + \';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \' + this.playbtn + \';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("clipasset",{props:["src","mobile"],data(){let e=!1;return void 0!==this.mobile&&(e=!0),{isMobile:e}},template:'<div class="video-asset-container"><video playsinline :src="this.src" autoplay="true" muted="true" loop="true" :class="\'video-asset\' + (isMobile ? \' mobile-width\' : \'\')"></video></div'}),app.component("youtube",{props:["src"],data(){let e=null;/^[\w\-_]{10,12}$/.test(this.src)?(e=localStorage.getItem("youtube_"+this.src))?e=JSON.parse(e):(e=this.getInfo(this.src))?localStorage.setItem("youtube_"+this.src,JSON.stringify(e)):e=this.getInfo("o-YBDTqX_ZU"):e=syncjson(this.src);let t=hcd(e.width,e.height);return{id:/\/embed\/([^\/]+)\?/g.exec(e.html)[1],title:e.title,width:e.width,height:e.height,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo:e=>syncjson("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+e+"&format=json"),play(){this.player='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+this.id+'?feature=oembed&autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\'+this.thumbnail_url+\'); aspect-ratio: \'+ this.aspect+\';\'"><div class="oembed-wrapper__title" :style="\'display: \'+this.playbtn+\';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \'+this.playbtn+\';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("vimeo",{props:["src"],data(){let e=null;(e=localStorage.getItem("vimeo_"+this.src))?e=JSON.parse(e):(e=this.getInfo(this.src))?localStorage.setItem("vimeo_"+this.src,JSON.stringify(e)):e=this.getInfo("844557780");let t=hcd(e.width,e.height);return{id:this.src,title:e.title,width:e.width,height:e.height,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo:e=>syncjson("https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+e),play(){this.player='<iframe src="https://player.vimeo.com/video/'+this.id+'?autoplay=1" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture"></iframe>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\'+this.thumbnail_url+\'); aspect-ratio: \'+this.aspect+\';\'"><div class="oembed-wrapper__title" :style="\'display: \'+this.playbtn+\';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \'+this.playbtn+\';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("highlight",{props:["lang"],template:'<pre class="highlight"><code :class="\'language-\' + this.lang"><slot /></code></pre>'}),app.component("gallery",{data(){let e=[],t=[],s=[];return this.$slots.default()[0].children.trim().split("\n").forEach((i=>{let a=new URL(i.trim(),document.baseURI).href;s.push('<div class="swiper-slide"><img src="'+a+'"></div>'),t.push('<div class="swiper-slide" style="background-image: url(\''+a+'\')"><img src="'+a+'"></div>'),e.push(a)})),{hash:cyrb53(e.join("")),thslides:s.join(""),slides:t.join(""),images:e,swiper:null,thumbs:null,modal:null,show:!1}},created(){this.$nextTick((()=>{document.addEventListener("keydown",this.hotkeys),this.modal=document.getElementById("swiper-modal-"+this.hash),this.thumbs=new Swiper("#swiper-thumbs-"+this.hash,{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),this.swiper=new Swiper("#swiper-"+this.hash,{spaceBetween:10,pagination:{el:"#swiper-pagination-"+this.hash,type:"fraction"},navigation:{nextEl:"#swiper-button-next-"+this.hash,prevEl:"#swiper-button-prev-"+this.hash},thumbs:{swiper:this.thumbs}})}))},methods:{modalimage(){this.modal.style.backgroundImage="url('"+this.images[this.swiper.activeIndex]+"')"},fullscreen(){this.modalimage(),this.modal.classList.add("swiper-modal--show"),this.show=!0},close(){this.modal.classList.remove("swiper-modal--show"),this.show=!1},hotkeys(e){this.show&&("Escape"!==e.key||e.ctrlKey||e.altKey||e.shiftKey?"ArrowRight"===e.key?(this.swiper.slideNext(),this.modalimage()):"ArrowLeft"===e.key&&(this.swiper.slidePrev(),this.modalimage()):this.close())}},template:'<div class="swiper-container"><div class="swiper-modal" :id="\'swiper-modal-\' + this.hash" @click="close()"></div><div :id="\'swiper-\' + this.hash" style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper swiper-main"><div class="swiper-wrapper" v-html="slides"></div><div :id="\'swiper-button-next-\' + this.hash" class="swiper-button-next"></div><div :id="\'swiper-button-prev-\' + this.hash" class="swiper-button-prev"></div><div :id="\'swiper-pagination-\' + this.hash" class="swiper-pagination"></div><div title="Navigue avec les flèches de ton clavier en plein écran" class="swiper-fullscreen" @click="fullscreen()"></div></div><div :id="\'swiper-thumbs-\' + this.hash" class="swiper swiper-thumbs"><div class="swiper-wrapper" v-html="thslides"></div></div></div>'}),app.component("checklist",{data(){var e="";this.$slots.default().forEach((t=>{if("string"==typeof t.type){var s="";for(i in t.props)s+=" "+i+'="'+t.props[i]+'"';"br"==t.type||"img"==t.type?e+="<"+t.type+s+">":e+="<"+t.type+s+">"+t.children+"</"+t.type+">"}else e+=t.children}));var t=[];e.trim().split("\n").map((e=>{t.push(e.trim())}));var s=this.getHash(t.join());let a=localStorage.getItem("checklist-"+s);if("string"==typeof a){(o=a.split(",").map((e=>parseInt(e)))).length!=t.length&&(o=[],t.forEach((()=>{o.push(0)})))}else{var o=[];t.forEach((()=>{o.push(0)}))}return{hash:s,list:t,checks:o,progressbar:null,progress:0}},created(){this.$nextTick((()=>{let e=new URL(location.href,document.baseURI);this.$refs.checklist.querySelectorAll("a").forEach((t=>{let s=new URL(t.href,document.baseURI);s.hash&&e.host==s.host&&e.pathname==s.pathname||(t.target="_blank",t.rel="noopener noreferrer"),t.addEventListener("click",(e=>{e.stopPropagation()}))})),this.progressbar=document.getElementById(this.hash+"-progressbar"),this.updateProgressBar()}))},methods:{getHash:e=>cyrb53(window.location.pathname+e),click(e,t){let s=e.currentTarget;this.checks[t]?(this.checks[t]=0,s.classList.remove("checked")):(this.checks[t]=1,s.classList.add("checked")),this.updateProgressBar(),localStorage.setItem("checklist-"+this.hash,this.checks.join(","))},updateProgressBar(){let e=0;this.checks.forEach((t=>{e+=t})),this.progress=(e/this.checks.length*100).toFixed(0)}},template:'<div ref="checklist" class="checklist"><div class="pourcentage">{{ progress }}%</div><div :id="this.hash + \'-progressbar\'" class="progressbar" :style="\'background-size: \' + this.progress + \'% 100%;\'"></div><ol><li v-for="(line, i) in this.list" :class="this.checks[i]?\'checked\':\'\'" @click="click($event,i)" v-html="line"></li></ol></div>'}),app.component("tune",{props:["src"],data(){var e=new URL(this.src,document.baseURI);let t=e.pathname.split(".").shift(),s=new Audio(e);return s.preload="auto",s.addEventListener("play",(()=>{this.play()})),s.addEventListener("pause",(()=>{this.pause()})),s.addEventListener("ended",(()=>{this.ended()})),this.$root.registerLightSwitch(this),{name:t,sound:s,playInt:null}},methods:{click(){this.sound.paused?this.sound.play():this.sound.pause()},play(){this.playing=!0,this.$refs.button.classList.add("pause"),this.playInt=setInterval((()=>{this.time()}),50)},pause(){this.playing=!1,this.$refs.button.classList.remove("pause"),clearInterval(this.playInt)},ended(){this.$refs.progress.style.width="0%"},seek(e){let t=e.currentTarget.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*this.sound.duration;this.sound.currentTime=s,this.sound.paused&&this.sound.play()},time(){let e=Math.round(this.sound.currentTime/this.sound.duration*1e4)/100;this.$refs.progress.style.width=e+"%"},lightSwitchOff(){this.$refs.waveform.style.backgroundImage="url("+this.name+"-dark.png)"},lightSwitchOn(){this.$refs.waveform.style.backgroundImage="url("+this.name+"-light.png)"}},template:'<div class="tune"><div class="tune__button" ref="button" @click="this.click()"></div><div class="tune__waveform" ref="waveform" :style="\'background-image: url(\\\'\'+this.name+\'-\'+this.$root.theme+\'.png\\\')\'" @click="this.seek"><div class="tune__progress" ref="progress"></div></div></div>'}),app.component("quote",{props:["author","title","photo"],data:()=>({}),template:'<div class="quote"><blockquote><slot/></blockquote><div class="quote__author"><div class="quote__who"><div class="quote__name">— {{ author }}</div><div class="quote__title">{{ title }}</div></div><div class="quote__photo"><img :src="this.photo"></div></div></div>'}),app.component("wiki",{data(){let e=new URL(document.location);return{list:"",hash:cyrb53(e.host+e.pathname),active:null,pages:new Array}},created(){this.$nextTick((()=>{0!=this.pages.length&&(setTimeout((()=>{let e=localStorage.getItem("wiki-"+this.hash+"-active");null==e?this.setActivePage(this.pages[0].id):this.setActivePage(e)}),1),document.querySelectorAll("#wiki__pages a").forEach((e=>{e.rel="noopener noreferrer",e.target="_blank"})))}))},methods:{registerPage(e,t){this.pages.push({id:e,name:t})},setActivePage(e,t=null){t&&t.preventDefault(),null!=this.active&&(document.getElementById("wiki-list__"+this.active).classList.remove("active"),document.getElementById("wiki-page__"+this.active).classList.remove("active")),document.getElementById("wiki-list__"+e).classList.add("active"),document.getElementById("wiki-page__"+e).classList.add("active"),localStorage.setItem("wiki-"+this.hash+"-active",e),this.active=e,this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show"),window.scrollTo(0,0)},toggleBurger(){this.$refs.burger.classList.contains("show")?(this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show")):(this.$refs.burger.classList.add("show"),this.$refs.list.classList.add("show"))}},template:'<div id="wiki"><div id="wiki__burger" ref="burger" @click="toggleBurger()"></div><div id="wiki__list" ref="list"><ul><li v-for="el in this.pages"><a :id="\'wiki-list__\' + el.id" @click="setActivePage(el.id, $event)" href="#">{{ el.name }}</a><span>&nbsp;&#x1f4da;</span></li></ul></div><div id="wiki__pages"><slot/></div></div>'}),app.component("wiki-page",{props:["name","date"],data(){let e=new URL(document.location),t=lowslug(this.name),s=new Date,i=s.getFullYear()+"-"+pad(s.getMonth()+1,2)+"-"+pad(s.getDate(),2);return(null==this.date||i>=this.date||"tim-montmorency.com"!=e.host)&&this.$parent.registerPage(t,(null!=this.date&&i<this.date?"::":"")+this.name),{slug:t}},template:'<div :id="\'wiki-page__\' + this.slug" class="wiki__page"><h1>{{ name }}</h1><br><slot/></div>'}),app.component("correction",{props:["scale","value"],data(){let e=this.scale.split(",").map((e=>e.trim()));return{modal:new ModalCorrection,scales:e,criterias:new Array,score:0,score_txt:""}},created(){this.$nextTick((()=>{this.updateScore()}))},methods:{registerCriteria(e){this.criterias.push(e)},updateScore(){let e=0,t=0;this.criterias.forEach((s=>{t+=parseFloat(s.value),e+=parseFloat(s.getValue())}));let s=e/t;this.score=+(s*this.value).toFixed(2),this.score_txt=+(100*s).toFixed(2)+"% ("+this.score+"/"+this.value+")"},clear(){this.criterias.forEach((e=>{e.clear()})),this.updateScore()},copy(){navigator.clipboard.writeText(this.score)},download(){this.modal.show((e=>{let t={hash:"",date:now(),name:e.name,comment:e.comment,pourcentage:0,score:0,total:0,points:0,scale:+this.value,criterias:[]};this.criterias.forEach(((e,s)=>{t.total+=parseFloat(e.value),t.score+=parseFloat(e.getValue()),t.criterias.push({name:e.$refs.name.innerText,label:this.scales[this.scales.length-1-e._value],value:e.getValue(),scale:+e.value})})),t.points=+(t.score/t.total*this.value).toFixed(2),t.pourcentage=+(t.points/t.scale*100).toFixed(2),t.hash=cyrb53(t.name+t.date+t.pourcentage),downloadJsonObject(t,lowslug(t.name)+".json")}))}},template:'<div class="correction" ref="container"><table><thead><tr><th>Critères</th><th>Barèmes</th></tr></thead><tbody><slot></slot></tbody><tfoot><tr><td>Total</td><td>{{ this.score_txt }}<button class="btn__copy" @click="this.copy();" title="Copier"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" fill="currentColor"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.5 14H19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v1.5M5 10h7a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7c0-1.1.9-2 2-2Z"/></svg></button><button class="btn__clear" @click="this.clear();" title="Effacer"><svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="m899 870-53-306h18c14 0 26-12 26-26V346c0-14-12-26-26-26H618V138c0-14-12-26-26-26H432c-14 0-26 12-26 26v182H160c-14 0-26 12-26 26v192c0 14 12 26 26 26h18l-53 306v4c0 14 11 26 26 26h727c14-3 24-16 21-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4-4-8-8-8h-48c-4 0-8 4-8 8v156H416V674c0-4-4-8-8-8h-48c-4 0-8 4-8 8v156H203l45-260h528l45 260H672z"/></svg></button><button class="btn__download" @click="this.download();" title="Télécharger"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21 14a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4a1 1 0 0 0-2 0v4a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-4a1 1 0 0 0-1-1Zm-9.7 1.7a1 1 0 0 0 .3.2 1 1 0 0 0 .8 0 1 1 0 0 0 .3-.2l4-4a1 1 0 0 0-1.4-1.4L13 12.6V3a1 1 0 0 0-2 0v9.6l-2.3-2.3a1 1 0 1 0-1.4 1.4Z"/></svg></button></td></tr></tfoot></table></div>'}),app.component("criteria",{props:["value"],data:()=>({_value:0,_target:null}),created(){this.$parent.registerCriteria(this)},methods:{click(e,t){this._target&&this._target.classList.remove("checked"),e.currentTarget.classList.add("checked"),this._target=e.currentTarget,this._value=t,this.$parent.updateScore()},getValue(){return this._value/(this.$parent.scales.length-1)*this.value},clear(){this._value=0,this._target&&(this._target.classList.remove("checked"),this._target=null)}},template:'<tr class="correction__criteria"><td ref="name"><slot/></td><td><span class="correction__criteria__scale" v-for="(scale, i) in this.$parent.scales" v-html="scale" @click="click($event, this.$parent.scales.length - 1 - i)"></span></td></tr>'});class ModalCorrection extends Modal{form=null;name=null;comment=null;cancel=null;clb=null;constructor(){let e=create("form","correction-modal");e.innerHTML='<table><thead><tr><th colspan="2">Téléchargement de la correction</th></tr></thead><tbody><tr><td>Nom:</td><td><input style="width: 100%;" type="text" name="name" required></td></tr><tr><td>Commentaire:</td><td><textarea name="comment"></textarea></td></tr></tbody><tfoot><tr><td colspan="2"><input type="submit" name="save" value="Télécharger"><input type="button" name="cancel" value="Annuler"></td></tr></tfoot></table>',super(e),this.form=e,this.name=this.form.querySelector('input[name="name"]'),this.comment=this.form.querySelector('textarea[name="comment"]'),this.form.querySelector('input[name="cancel"]').addEventListener("click",(()=>{this.hide()})),bind(this.form,"submit",(e=>{e.preventDefault(),this.save()})),bind(this.cont,"mousedown",(e=>{this.opened&&e.target.classList.contains("modal")&&this.hide()})),bind(document,"keydown",(e=>{this.opened&&"Escape"===e.key&&!(e.ctrlKey||e.altKey||e.shiftKey)&&this.hide()}))}show(e=null){this.clb=e,this.name.value="",this.comment.value="",super.show(),setTimeout((()=>{this.name.focus()}),200)}save(){this.hide(),this.clb&&this.clb({name:this.name.value,comment:this.comment.value})}}app.component("timg",{props:["src","class","alt"],data(){return this.$root.registerLightSwitch(this),{source:this.src.replace(/\$t/g,this.$root.theme)}},methods:{lightSwitchOff(){this.source=this.src.replace(/\$t/g,this.$root.theme)},lightSwitchOn(){this.source=this.src.replace(/\$t/g,this.$root.theme)}},template:'<img :src="this.source" :alt="this.alt" :class="this.class">'});