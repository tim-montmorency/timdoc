/*!

████████╗██╗███╗   ███╗██████╗  ██████╗  ██████╗
╚══██╔══╝██║████╗ ████║██╔══██╗██╔═══██╗██╔════╝
   ██║   ██║██╔████╔██║██║  ██║██║   ██║██║
   ██║   ██║██║╚██╔╝██║██║  ██║██║   ██║██║
   ██║   ██║██║ ╚═╝ ██║██████╔╝╚██████╔╝╚██████╗
   ╚═╝   ╚═╝╚═╝     ╚═╝╚═════╝  ╚═════╝  ╚═════╝

*/
const bind=(e,t,s)=>{"string"==typeof e?document.querySelectorAll(e).forEach((e=>{e.addEventListener(t,s)})):e.addEventListener(t,s)},create=(e,t=null)=>{const s=document.createElement(e);return t&&(s.className=t),s};HTMLElement.prototype.create=function(e,t=null){const s=create(e,t);return this.append(s),s};const now=()=>{let e=new Date,t=e.getTimezoneOffset();return e=new Date(e.getTime()-60*t*1e3),e.toISOString()},syncjson=e=>{try{const t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),JSON.parse(t.responseText)}catch(e){return!1}},browse=(e,t=null)=>{let s=document.createElement("input");s.type="file",s.accept=e,t&&s.addEventListener("change",t),s.dispatchEvent(new MouseEvent("click"))},openJsonFile=(e=null)=>{browse("application/json",(t=>{let s=t.target.files[0];if(s){let t=new FileReader;t.readAsText(s,"UTF-8"),t.onload=t=>{let s=JSON.parse(t.target.result);e&&e(s)}}}))},decimalToHexString=e=>(e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()),hex=e=>{let t=[],s=new DataView(e);for(let e=0;e<s.byteLength;e+=4){let i="00000000",a=(i+s.getUint32(e).toString(16)).slice(-i.length);t.push(a)}return t.join("")},cyrb53=(e,t=0)=>{let s=3735928559^t,i=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),s=Math.imul(s^t,2654435761),i=Math.imul(i^t,1597334677);return s=Math.imul(s^s>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),(a=4294967296*(2097151&i)+(s>>>0))<0&&(a=4294967295+a+1),a.toString(16).toUpperCase();var a},md5=e=>{const t="0123456789abcdef",s=e=>{let s,i="";for(s=0;s<=3;s++)i+=t.charAt(e>>8*s+4&15)+t.charAt(e>>8*s&15);return i},i=(e,t)=>{let s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s},a=(e,t,s,a,o,r)=>i(((e,t)=>e<<t|e>>>32-t)(i(i(t,e),i(a,r)),o),s),o=(e,t,s,i,o,r,l)=>a(t&s|~t&i,e,t,o,r,l),r=(e,t,s,i,o,r,l)=>a(t&i|s&~i,e,t,o,r,l),l=(e,t,s,i,o,r,l)=>a(t^s^i,e,t,o,r,l),c=(e,t,s,i,o,r,l)=>a(s^(t|~i),e,t,o,r,l);let n,h,d,p,m,u=(e=>{let t,s=1+(e.length+8>>6),i=new Array(16*s);for(t=0;t<16*s;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<t%4*8;return i[t>>2]|=128<<t%4*8,i[16*s-2]=8*e.length,i})(""+e),v=1732584193,g=-271733879,b=-1732584194,w=271733878;for(n=0;n<u.length;n+=16)h=v,d=g,p=b,m=w,v=o(v,g,b,w,u[n+0],7,-680876936),w=o(w,v,g,b,u[n+1],12,-389564586),b=o(b,w,v,g,u[n+2],17,606105819),g=o(g,b,w,v,u[n+3],22,-1044525330),v=o(v,g,b,w,u[n+4],7,-176418897),w=o(w,v,g,b,u[n+5],12,1200080426),b=o(b,w,v,g,u[n+6],17,-1473231341),g=o(g,b,w,v,u[n+7],22,-45705983),v=o(v,g,b,w,u[n+8],7,1770035416),w=o(w,v,g,b,u[n+9],12,-1958414417),b=o(b,w,v,g,u[n+10],17,-42063),g=o(g,b,w,v,u[n+11],22,-1990404162),v=o(v,g,b,w,u[n+12],7,1804603682),w=o(w,v,g,b,u[n+13],12,-40341101),b=o(b,w,v,g,u[n+14],17,-1502002290),g=o(g,b,w,v,u[n+15],22,1236535329),v=r(v,g,b,w,u[n+1],5,-165796510),w=r(w,v,g,b,u[n+6],9,-1069501632),b=r(b,w,v,g,u[n+11],14,643717713),g=r(g,b,w,v,u[n+0],20,-373897302),v=r(v,g,b,w,u[n+5],5,-701558691),w=r(w,v,g,b,u[n+10],9,38016083),b=r(b,w,v,g,u[n+15],14,-660478335),g=r(g,b,w,v,u[n+4],20,-405537848),v=r(v,g,b,w,u[n+9],5,568446438),w=r(w,v,g,b,u[n+14],9,-1019803690),b=r(b,w,v,g,u[n+3],14,-187363961),g=r(g,b,w,v,u[n+8],20,1163531501),v=r(v,g,b,w,u[n+13],5,-1444681467),w=r(w,v,g,b,u[n+2],9,-51403784),b=r(b,w,v,g,u[n+7],14,1735328473),g=r(g,b,w,v,u[n+12],20,-1926607734),v=l(v,g,b,w,u[n+5],4,-378558),w=l(w,v,g,b,u[n+8],11,-2022574463),b=l(b,w,v,g,u[n+11],16,1839030562),g=l(g,b,w,v,u[n+14],23,-35309556),v=l(v,g,b,w,u[n+1],4,-1530992060),w=l(w,v,g,b,u[n+4],11,1272893353),b=l(b,w,v,g,u[n+7],16,-155497632),g=l(g,b,w,v,u[n+10],23,-1094730640),v=l(v,g,b,w,u[n+13],4,681279174),w=l(w,v,g,b,u[n+0],11,-358537222),b=l(b,w,v,g,u[n+3],16,-722521979),g=l(g,b,w,v,u[n+6],23,76029189),v=l(v,g,b,w,u[n+9],4,-640364487),w=l(w,v,g,b,u[n+12],11,-421815835),b=l(b,w,v,g,u[n+15],16,530742520),g=l(g,b,w,v,u[n+2],23,-995338651),v=c(v,g,b,w,u[n+0],6,-198630844),w=c(w,v,g,b,u[n+7],10,1126891415),b=c(b,w,v,g,u[n+14],15,-1416354905),g=c(g,b,w,v,u[n+5],21,-57434055),v=c(v,g,b,w,u[n+12],6,1700485571),w=c(w,v,g,b,u[n+3],10,-1894986606),b=c(b,w,v,g,u[n+10],15,-1051523),g=c(g,b,w,v,u[n+1],21,-2054922799),v=c(v,g,b,w,u[n+8],6,1873313359),w=c(w,v,g,b,u[n+15],10,-30611744),b=c(b,w,v,g,u[n+6],15,-1560198380),g=c(g,b,w,v,u[n+13],21,1309151649),v=c(v,g,b,w,u[n+4],6,-145523070),w=c(w,v,g,b,u[n+11],10,-1120210379),b=c(b,w,v,g,u[n+2],15,718787259),g=c(g,b,w,v,u[n+9],21,-343485551),v=i(v,h),g=i(g,d),b=i(b,p),w=i(w,m);return s(v)+s(g)+s(b)+s(w)},lowslug=e=>e.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9\s\-]/g,"").replace(/[\s\t]+/g,"-").replace(/-*$/g,"").replace(/^-*/g,""),invertColor=(e,t)=>{if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)return!1;let s=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return t?.299*s+.587*i+.114*a>186?"#000000":"#FFFFFF":(s=(255-s).toString(16),i=(255-i).toString(16),a=(255-a).toString(16),"#"+pad(s)+pad(i)+pad(a))},pad=(e,t)=>{t=t||2;let s="000000000"+e;return s.substr(s.length-t)},toDataURL=async e=>{const t=await fetch(e).then((e=>e.blob()));return URL.createObjectURL(t)},download=async e=>{const t=document.createElement("a");t.href=await toDataURL(e),t.download=new URL(e).href.replace(/^.*(\\|\/|\:)/,""),document.body.appendChild(t),t.click(),document.body.removeChild(t)},downloadJsonObject=(e,t)=>{const s=document.createElement("a");s.href="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t")),s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)},hcd=(e,t)=>{do{var s=e}while((t=s%(e=t))>0);return e},selectElementText=e=>{let t=document.createRange();t.selectNodeContents(e);let s=window.getSelection();s.removeAllRanges(),s.addRange(t)};class Modal{cont=null;opened=!1;constructor(e=""){this.cont=create("div","modal"),"string"==typeof e?this.cont.innerHTML=e:this.cont.append(e),document.body.append(this.cont)}show(e=null){if(this.opened=!0,e)if("string"==typeof e)this.cont.innerHTML=e;else{for(;this.cont.firstChild;)this.cont.removeChild(this.cont.lastChild);this.cont.append(e)}setTimeout((()=>{this.cont.classList.add("show")}),1)}hide(){this.opened=!1,this.cont.classList.remove("show")}}const MessageModal={_modal:null,get modal(){return this._modal||(this._modal=new Modal,bind(this._modal.cont,"mousedown",(e=>{this._modal.hide()})),bind(document,"keydown",(e=>{this._modal.opened&&"Escape"===e.key&&!(e.ctrlKey||e.altKey||e.shiftKey)&&this._modal.hide()}))),this._modal},setMessage(e,t){this.modal.show(`<div class="modal-message"><div class="infobubble ${e}"><div class="infobubble__bubble"></div>${t}</div></div>`)},info(e){this.setMessage("info",e)},warning(e){this.setMessage("warning",e)},alert(e){this.setMessage("alert",e)},bravo(e){this.setMessage("bravo",e)},thumbsup(e){this.setMessage("thumbsup",e)}};class PasswordModal extends Modal{password=null;input=null;bad=null;badcounter=0;clb=null;constructor(e){let t=create("form","password-modal");t.innerHTML='<table><thead><tr><th>Mot de passe</th></tr></thead><tbody><tr><td><input type="password" name="password" autocomplete="off" required></td></tr><tr class="bad-password"><td>Mot de passe invalide</td></tr></tbody><tfoot><tr><td><input type="submit" name="save" value="Accéder"></td></tr></tfoot></table>',super(t),this.password=e,this.input=t.querySelector('input[name="password"]'),this.bad=t.querySelector(".bad-password"),bind(t,"submit",(e=>{e.preventDefault(),this.save()}))}show(e=null){this.clb=e,super.show(),setTimeout((()=>{this.input.focus()}),500)}hide(){document.body.style.overflow="auto",super.hide()}save(){md5(this.input.value)===this.password?(this.hide(),this.clb&&this.clb()):(this.bad.classList.add("show"),this.input.value="",this.input.focus(),++this.badcounter>=3&&(document.location.href="https://passepartout.telequebec.tv/"))}}const darkmode_cache="darkmode_cache_1",urlParams=new URLSearchParams(window.location.search);localStorage.getItem("darkmode")&&localStorage.getItem(darkmode_cache)||(localStorage.setItem(darkmode_cache,"true"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?localStorage.setItem("darkmode","true"):localStorage.setItem("darkmode","false")),null!==urlParams.get("dark")&&localStorage.setItem("darkmode","true"),null!==urlParams.get("light")&&localStorage.setItem("darkmode","false");const app=Vue.createApp({setup(){const e=document.querySelector('meta[itemprop="digest"]');return{digest:e?e.content:null}},data:()=>({lightSwitches:[],tableOfContents:[],theme:"true"===localStorage.getItem("darkmode")?"dark":"light"}),mounted(){const e=new URL(document.referrer,document.baseURI),t=document.getElementById("breadcrumb");t&&/\/index\//g.test(e.pathname)&&t.classList.add("index"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="dark"==this.theme?"lightswitch--off":"lightswitch--on"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{e.matches?this.setDarkMode():this.setLightMode()})),this.digest&&"true"!==sessionStorage.getItem("digest-"+cyrb53(this.digest))&&(document.body.classList.add("digest"),new PasswordModal(this.digest).show((()=>{sessionStorage.setItem("digest-"+cyrb53(this.digest),"true"),document.body.classList.remove("digest")}))),this.$nextTick((()=>{document.querySelectorAll("span.inline-code").forEach((e=>{e.addEventListener("click",(t=>{selectElementText(e),t.preventDefault(),t.stopPropagation()}))}))}))},methods:{goToTop(e=null,t=null){const s=new URL(document.referrer,document.baseURI);t&&/\/index\//g.test(s.pathname)?document.location.href=t:e?document.location.href=e:window.scrollTo(0,0)},registerLightSwitch(e){this.lightSwitches.push(e)},lightswitch(){"lightswitch--on"==this.$refs.lightswitch.className?this.setDarkMode():this.setLightMode()},setDarkMode(){this.theme="dark",document.body.classList.add("dark"),document.body.classList.remove("light"),localStorage.setItem("darkmode","true"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="lightswitch--off"),this.lightSwitches.forEach((e=>{e.lightSwitchOff()}))},setLightMode(){this.theme="light",document.body.classList.add("light"),document.body.classList.remove("dark"),localStorage.setItem("darkmode","false"),null!=this.$refs.lightswitch&&(this.$refs.lightswitch.className="lightswitch--on"),this.lightSwitches.forEach((e=>{e.lightSwitchOn()}))}}});app.config.compilerOptions.whitespace="preserve",app.component("tabledesmatieres",{template:'<div id="contents_table" v-if="this.$root.tableOfContents.length > 0"><div class="contents_table__table"><a href="#" class="no-underline"><strong>Table des matières</strong></a><ul><li v-for="elm in this.$root.tableOfContents"><a :href="\'#\'+elm.id">{{ elm.name }}</a></li></ul></div></div>'}),app.component("grostitre",{data(){return{id:lowslug(this.$slots.default()[0].children)}},created(){this.$root.tableOfContents.push({id:this.id,name:this.$slots.default()[0].children})},methods:{click(e){let t=e.currentTarget,s=window.location.origin+window.location.pathname+"#"+this.id;navigator.clipboard.writeText(s),t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)}},template:'<div class="grostitre"><a :id="this.id"></a><h2><slot /></h2><div class="grostitre__chain" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c2 0 3 1 3 3s-1 3-3 3h-4v2h4a5 5 0 0 0 0-10zm-6 8H7c-2 0-3-1-3-3s1-3 3-3h4V7H7a5 5 0 0 0 0 10h4v-2zm-3-4h8v2H8z"/></svg></div><div class="grostitre__linkcopied">Lien copié &#x2713;</div></div>'}),app.component("zero",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M8 5C7 5 6.4 6 6.4 7.8v.4C6.4 10 7 11 8 11s1.6-1 1.6-3v-.3C9.6 6 9 5 8 5"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-8 4.2c1.8 0 3-1.6 3-4v-.4c0-2.4-1.1-4-3-4s-3 1.6-3 4v.4c0 2.4 1.1 4 3 4"/></svg>'}),app.component("one",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M9.3 4H8L6 5.4v1.3l2-1.4V12h1.3z"/></svg>'}),app.component("two",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.65 6.24c0-.7.49-1.3 1.33-1.3.76 0 1.32.49 1.32 1.23 0 .7-.47 1.23-.9 1.7l-2.98 3.3V12h5.35v-1.1h-3.5v-.08L9.24 8.6l.1-.11c.69-.76 1.28-1.43 1.28-2.43 0-1.27-1.03-2.22-2.6-2.22-1.77 0-2.64 1.2-2.64 2.4v.07h1.27v-.07Z"/></svg>'}),app.component("three",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-8.08.41c.92 0 1.53.54 1.54 1.32.01.8-.62 1.36-1.59 1.36-.86-.01-1.48-.47-1.54-1.07H5.1c.05 1.18 1.05 2.14 2.76 2.14 1.65 0 2.95-.93 2.93-2.4a1.92 1.92 0 0 0-1.74-1.9v-.08c.6-.1 1.5-.74 1.49-1.87-.03-1.18-1.05-2.08-2.64-2.07-1.68.01-2.6.99-2.63 2.12h1.25c.04-.55.56-1.05 1.35-1.05.78 0 1.35.49 1.35 1.2s-.57 1.23-1.34 1.23h-.84v1.07h.88Z"/></svg>'}),app.component("four",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M7.52 5.06a78.84 78.84 0 0 0-2.54 4.26v1.12h3.87V12h1.26v-1.56h1v-1.1h-1V4H8.18zm-1.3 4.22v.05h2.63V5.06h-.07a66.05 66.05 0 0 0-2.55 4.22"/></svg>'}),app.component("five",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-8 4.16c1.73 0 2.92-1.12 2.92-2.8a2.46 2.46 0 0 0-2.56-2.6c-.9 0-1.44.43-1.61.69h-.07l.2-2.35h3.62V4H5.8l-.35 4.63h1.14c.2-.36.67-.8 1.44-.8.85 0 1.58.6 1.58 1.56 0 1.09-.78 1.68-1.57 1.68-.7 0-1.39-.3-1.53-1.03H5.28c.06 1.22 1.14 2.12 2.72 2.12Z"/></svg>'}),app.component("six",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.21 3.86c-1.87 0-3.12 1.39-3.12 4.4 0 1.19.23 2.04.6 2.64a2.67 2.67 0 0 0 2.41 1.26c1.63 0 2.85-1.02 2.85-2.79a2.45 2.45 0 0 0-2.51-2.55c-1.13 0-1.75.61-1.98 1.16h-.08c-.02-1.95.72-3.04 1.8-3.04.8 0 1.22.46 1.31.81h1.3c-.07-.9-.97-1.9-2.58-1.9Zm-.1 4a1.5 1.5 0 0 0-1.56 1.58c0 1.03.7 1.63 1.56 1.63.86 0 1.55-.53 1.55-1.63a1.5 1.5 0 0 0-1.55-1.58"/></svg>'}),app.component("seven",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.37 5.11h3.97v.07L6.03 12h1.39l3.26-6.85V4H5.37v1.1Z"/></svg>'}),app.component("eight",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-5.03 1.8a2 2 0 0 0-1.65-1.99v-.06c.6-.2 1.34-.72 1.34-1.78 0-1.23-1.08-2.13-2.65-2.13s-2.66.9-2.66 2.12c0 1.05.7 1.6 1.33 1.79v.06c-.7.15-1.65.73-1.65 2 0 1.4 1.19 2.35 2.95 2.35 1.77 0 3-.96 3-2.36ZM6.62 6.1c0 .73.59 1.25 1.39 1.25s1.37-.52 1.37-1.26c0-.73-.58-1.23-1.37-1.23s-1.39.5-1.39 1.23Zm-.28 3.64c0 .84.72 1.41 1.67 1.41.94 0 1.65-.57 1.65-1.41S8.95 8.3 8.01 8.3c-.95 0-1.67.58-1.67 1.43"/></svg>'}),app.component("nine",{props:["size","color"],setup(e){e.size||(e.size=24),e.color||(e.color="currentColor")},template:'<svg :fill="this.color" class="number" :height="this.size" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-8.22 4.15c2.1 0 3.12-1.47 3.12-4.3 0-3.15-1.46-4.02-2.97-4.02-1.63 0-2.87 1.02-2.87 2.73 0 1.7 1.17 2.67 2.56 2.67 1.06 0 1.7-.56 1.94-1.18h.07c.05 1.67-.47 3.02-1.83 3.02-.7 0-1.15-.36-1.25-.72h-1.3c.1.9.93 1.8 2.53 1.8Zm.11-3.98c.81 0 1.54-.52 1.54-1.59S8.76 4.9 7.87 4.9c-.84 0-1.52.62-1.52 1.66 0 1.08.71 1.61 1.54 1.61Z"/></svg>'}),app.component("info",{template:'<div class="infobubble info"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("warning",{template:'<div class="infobubble warning"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("alert",{template:'<div class="infobubble alert"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("bravo",{template:'<div class="infobubble bravo"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("thumbsup",{template:'<div class="infobubble thumbsup"><div class="infobubble__bubble"></div><slot/></div>'}),app.component("incode",{template:'<span class="inline-code"><slot/></span>'}),app.component("mediafile",{props:["src","spacer","addr"],data(){let e=void 0===this.addr||"false"!=this.addr,t="true"==this.spacer?" spacerr":"";try{var s=new URL(this.src)}catch(e){s=new URL(this.src,document.baseURI)}switch(s.href.split(".").pop().toLocaleLowerCase()){case"svg":var i="type-svg.webp";break;case"jpg":i="type-jpg.webp";break;case"png":i="type-png.webp";break;case"webp":i="type-png.webp";break;case"zip":i="type-zip.webp";break;case"mp3":i="type-audio.webp";break;default:i="type-file.webp"}return{isaddr:e,space:t,link:s.href,icon:shared+"images/types/"+i}},methods:{click(e){navigator.clipboard.writeText(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},download(e){download(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},focus(e){e.currentTarget.select()}},template:'<div :class="\'mediafile\' + this.space"><div class="mediafile__icon" :style="\'background-image: url(\\\'\' + this.icon + \'\\\')\'">&nbsp;</div><div class="mediafile__text"><slot/></div><div class="mediafile__download" title="Télécharger" @click="download($event)"><svg fill="currentColor" viewBox="0 0 538 538"><path d="M463 466H75c-12 0-22 10-22 22v28c0 12 10 22 22 22h388c12 0 21-10 21-22v-28c1-12-9-22-21-22zm-209-38c4 4 10 6 15 6 6 0 11-2 15-6l147-147c9-9 9-22 0-31l-20-20c-8-9-22-9-31 0l-75 75V21c0-11-10-21-22-21h-28c-12 0-22 10-22 21v285l-75-76c-9-8-22-8-31 0l-20 20c-9 9-9 22 0 31l147 147z"/></svg></div><div class="mediafile__chain" title="Copier" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"></path></svg></div><div class="mediafile__linkcopied">Lien copié &#x2713;</div></div><div v-if="this.isaddr" :class="\'mediafile__link\' + this.space"><input readonly type="text" class="mediafile__link-text" :value="this.link" @focus="focus($event)"></div><div v-if="this.isaddr" class="mediafile__spacer"></div>'}),app.component("codepen",{props:["id","tab","height","notab"],setup:e=>(e.height||(e.height=400),e.tab||(e.tab="true"==e.notab?"result":"html,result"),e.tab=encodeURIComponent(e.tab),{dark:43847,light:44431,clean:44168,user:"tim-momo"}),data(){return this.$root.registerLightSwitch(this),{theme:"true"==this.notab?this.clean:"dark"==this.$root.theme?this.dark:this.light}},methods:{lightSwitchOn(){"true"!=this.notab&&(this.theme=this.light)},lightSwitchOff(){"true"!=this.notab&&(this.theme=this.dark)}},template:'<div class="codepen-container" :style="\'height: \' + (+this.height + 2) + \'px\'"><iframe :src="\'https://codepen.io/\' + this.user + \'/embed/\' + id + \'?default-tab=\' + this.tab + \'&theme-id=\' + theme" class="codepen" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true" :style="\'height: \' + this.height + \'px;\'"></iframe></div>'}),app.component("exercice",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"exercice.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'<a class="exercice" target="_blank" :href="this.url"><div class="exercice-container"><div class="exercice-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div><div class="exercice-abstract"><em class="exercice-label">EXERCICE</em><span class="exercice-title">{{ name }}</span><span class="exercice-description">{{ description }}</span></div></div></a>'}),app.component("tool",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"tool.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'<a class="tool" target="_blank" :href="this.url"><div class="tool-container"><div class="tool-abstract"><em class="tool-label">OUTIL</em><span class="tool-title">{{ name }}</span><span class="tool-description">{{ description }}</span></div><div class="tool-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div></div></a>'}),app.component("knowmore",{props:["href"],template:'<a class="knowmore" target="_blank" :href="this.href"><div class="knowmore__title">&#128214; EN SAVOIR PLUS</div><div class="knowmore__abstract"><slot/></div></a>'}),app.component("doclink",{props:["href","spacer"],setup:()=>({domains:{"www.w3schools.com":"w3schools","developer.mozilla.org":"mozilla","codepen.io":"codepen","css-tricks.com":"csstricks","getbootstrap.com":"bootstrap","icons.getbootstrap.com":"bootstrap","fonts.google.com":"googlefonts","fr.wikipedia.org":"wikipedia","en.wikipedia.org":"wikipedia","ogp.me":"ogp","developers.facebook.com":"facebook","greensock.com":"greensock","smnarnold.com":"smnarnold","trello.com":"trello","sass-lang.com":"sass","developer.vuforia.com":"vuforia","cmontmorency365-my.sharepoint.com":"momo","cmontmorency365.sharepoint.com":"momo","www.cmontmorency.qc.ca":"momo","teams.microsoft.com":"momo","ccti.cmontmorency.qc.ca":"momo","github.com":"github","developers.google.com":"google","youtu.be":"youtube","youtube.com":"youtube","www.youtube.com":"youtube","www.unity.com":"unity","learn.unity.com":"unity","id.unity.com":"unity","assetstore.unity.com":"unity","unity.com":"unity","vuejs.org":"vuejs","v3.vuejs.org":"vuejs","developer.wordpress.org":"wordpress","fr-ca.wordpress.org":"wordpress","fr.wordpress.org":"wordpress","wordpress.org":"wordpress","wordpress.com":"wordpress","www.advancedcustomfields.com":"wordpress","npmjs.com":"npm","docs.npmjs.com":"npm","vimeo.com":"vimeo","web.dev":"webdev","swiperjs.com":"swiper","medium.com":"medium","pin.it":"pinterest","www.pinterest.ca":"pinterest"}}),data(){let e="";try{let t=new URL(this.href);void 0!==this.domains[t.hostname]&&(e=this.domains[t.hostname])}catch(t){"zip"==this.href.split(".").pop().toLocaleLowerCase()&&(e="zipfile")}return"true"==this.spacer&&(e+=" spacer"),{class:e}},template:'<a :class="\'doclink \' + this.class" target="_blank" rel="noopener noreferrer" :href="this.href"><div class="doclink-container"><div class="doclink-icon"></div><span class="doclink-title"><slot /></span></div></a>'}),app.component("dots",{template:'<div class="dots"><svg viewBox="0 0 256 256" fill="currentColor"><rect width="256" height="128" fill="none"/><circle cx="128" cy="128" r="6"/><circle cx="64" cy="128" r="6"/><circle cx="192" cy="128" r="6"/></svg></div>'}),app.component("color",{props:["spacer"],data(){let e=this.$slots.default()[0].children.toLowerCase().trim();return{color:e,invert:invertColor(e,!0),text:e,space:"true"==this.spacer?" spacer":"",clicked:""}},methods:{click(){navigator.clipboard.writeText(this.color),this.clicked=" clicked",this.text="Copié!",setTimeout((()=>{this.clicked="",this.text=this.color}),2e3)}},template:"<span :class=\"'color' + this.space + this.clicked\" :style=\"'color: ' + this.invert + '; background-color: ' + this.color + ';'\" @click=\"click()\">{{ text }}</span>"}),app.component("clip",{props:["src","title"],data(){let e,t=new URL(this.src,document.baseURI).pathname.split(".").shift(),s=t.split("/").pop(),i=syncjson(t+".json"),a=this.title??"";if(i.media.track.forEach((t=>{"Video"==t["@type"]&&(e=t)})),null==e)return{};{let i=hcd(e.Width,e.Height),o=e.Width/i+"/"+e.Height/i;return{id:s,name:t,title:a,width:e.Width,height:e.Height,aspect:o,thumbnail_url:t+".jpg",playbtn:"block",player:""}}},methods:{play(){this.player='<video id="'+this.id+'" width="100%" height="100%" autoplay="true" poster="'+this.thumbnail_url+'" data-setup=\'{"fluid": true}\' controls preload="auto"><source src="'+this.src+'" type="video/mp4" /></video>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\' + this.thumbnail_url + \'); aspect-ratio: \' + this.aspect + \';\'"><div class="oembed-wrapper__title" :style="\'display: \' + this.playbtn + \';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \' + this.playbtn + \';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("clipasset",{props:["src","mobile"],data(){let e=!1;return void 0!==this.mobile&&(e=!0),{isMobile:e}},template:'<div class="video-asset-container"><video playsinline :src="this.src" autoplay="true" muted="true" loop="true" :class="\'video-asset\' + (isMobile ? \' mobile-width\' : \'\')"></video></div'}),app.component("youtube",{props:["src"],setup(e){const t="o-YBDTqX_ZU";return e.src||(e.src=t),/^[\w\-_]{10,12}$/.test(e.src)||(e.src=t),{defaultId:t}},data(){let e=this.getInfo(this.src);e||(e=this.getInfo(this.defaultId));let t=hcd(e.width,e.height);return{id:/\/embed\/([^\/]+)\?/g.exec(e.html)[1],title:e.title,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo(e){let t=localStorage.getItem("youtube_"+e);return t?t=JSON.parse(t):(t=syncjson("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+e+"&format=json"),localStorage.setItem("youtube_"+e,JSON.stringify(t))),t},play(){this.player='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+this.id+'?feature=oembed&autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\'+this.thumbnail_url+\'); aspect-ratio: \'+ this.aspect+\';\'"><div class="oembed-wrapper__title" :style="\'display: \'+this.playbtn+\';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \'+this.playbtn+\';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("vimeo",{props:["src"],data(){let e=null;(e=localStorage.getItem("vimeo_"+this.src))?e=JSON.parse(e):(e=this.getInfo(this.src))?localStorage.setItem("vimeo_"+this.src,JSON.stringify(e)):e=this.getInfo("844557780");let t=hcd(e.width,e.height);return{id:this.src,title:e.title,width:e.width,height:e.height,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo:e=>syncjson("https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+e),play(){this.player='<iframe src="https://player.vimeo.com/video/'+this.id+'?autoplay=1" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture"></iframe>',this.playbtn="none"}},template:'<div class="oembed-wrapper" :style="\'background-image: url(\'+this.thumbnail_url+\'); aspect-ratio: \'+this.aspect+\';\'"><div class="oembed-wrapper__title" :style="\'display: \'+this.playbtn+\';\'"><div>{{ title }}</div></div><div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \'+this.playbtn+\';\'"></div><div class="oembed-wrapper__player" v-html="player"></div></div><br>'}),app.component("highlight",{props:["lang","scroll"],created(){this.$nextTick((()=>{hljs.highlightElement(this.$refs.code)}))},template:"<pre class=\"highlight\"><code ref=\"code\" :class=\"'language-' + this.lang + (this.scroll == 'true' ? ' scroll' : '')\"><slot /></code></pre>"}),app.component("gallery",{data(){let e=[],t=[],s=[];return this.$slots.default()[0].children.trim().split("\n").forEach((i=>{let a=new URL(i.trim(),document.baseURI).href;s.push('<div class="swiper-slide"><img src="'+a+'"></div>'),t.push('<div class="swiper-slide" style="background-image: url(\''+a+'\')"><img src="'+a+'"></div>'),e.push(a)})),{hash:cyrb53(e.join("")),thslides:s.join(""),slides:t.join(""),images:e,swiper:null,thumbs:null,modal:null,show:!1}},created(){this.$nextTick((()=>{document.addEventListener("keydown",this.hotkeys),this.modal=document.getElementById("swiper-modal-"+this.hash),this.thumbs=new Swiper("#swiper-thumbs-"+this.hash,{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),this.swiper=new Swiper("#swiper-"+this.hash,{spaceBetween:10,pagination:{el:"#swiper-pagination-"+this.hash,type:"fraction"},navigation:{nextEl:"#swiper-button-next-"+this.hash,prevEl:"#swiper-button-prev-"+this.hash},thumbs:{swiper:this.thumbs}})}))},methods:{modalimage(){this.modal.style.backgroundImage="url('"+this.images[this.swiper.activeIndex]+"')"},fullscreen(){this.modalimage(),this.modal.classList.add("swiper-modal--show"),this.show=!0},close(){this.modal.classList.remove("swiper-modal--show"),this.show=!1},hotkeys(e){this.show&&("Escape"!==e.key||e.ctrlKey||e.altKey||e.shiftKey?"ArrowRight"===e.key?(this.swiper.slideNext(),this.modalimage()):"ArrowLeft"===e.key&&(this.swiper.slidePrev(),this.modalimage()):this.close())}},template:'<div class="swiper-container"><div class="swiper-modal" :id="\'swiper-modal-\' + this.hash" @click="close()"></div><div :id="\'swiper-\' + this.hash" style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper swiper-main"><div class="swiper-wrapper" v-html="slides"></div><div :id="\'swiper-button-next-\' + this.hash" class="swiper-button-next"></div><div :id="\'swiper-button-prev-\' + this.hash" class="swiper-button-prev"></div><div :id="\'swiper-pagination-\' + this.hash" class="swiper-pagination"></div><div title="Navigue avec les flèches de ton clavier en plein écran" class="swiper-fullscreen" @click="fullscreen()"></div></div><div :id="\'swiper-thumbs-\' + this.hash" class="swiper swiper-thumbs"><div class="swiper-wrapper" v-html="thslides"></div></div></div>'}),app.component("checklist",{data(){var e="";this.$slots.default().forEach((t=>{if("string"==typeof t.type){var s="";for(i in t.props)s+=" "+i+'="'+t.props[i]+'"';"br"==t.type||"img"==t.type?e+="<"+t.type+s+">":e+="<"+t.type+s+">"+t.children+"</"+t.type+">"}else e+=t.children}));var t=[];e.trim().split("\n").map((e=>{t.push(e.trim())}));var s=this.getHash(t.join());let a=localStorage.getItem("checklist-"+s);if("string"==typeof a){(o=a.split(",").map((e=>parseInt(e)))).length!=t.length&&(o=[],t.forEach((()=>{o.push(0)})))}else{var o=[];t.forEach((()=>{o.push(0)}))}return{hash:s,list:t,checks:o,progress:0}},created(){this.$nextTick((()=>{let e=new URL(location.href,document.baseURI);this.$refs.checklist.querySelectorAll("a").forEach((t=>{let s=new URL(t.href,document.baseURI);s.hash&&e.host==s.host&&e.pathname==s.pathname||(t.target="_blank",t.rel="noopener noreferrer"),t.addEventListener("click",(e=>{e.stopPropagation()}))})),this.updateProgressBar()}))},methods:{getHash:e=>cyrb53(window.location.pathname+e),click(e,t){0===window.getSelection().toString().length&&(this.checks[t]=this.checks[t]?0:1,this.checks[t]?e.currentTarget.classList.add("checked"):e.currentTarget.classList.remove("checked"),localStorage.setItem("checklist-"+this.hash,this.checks.join(",")),this.updateProgressBar())},updateProgressBar(){let e=0;this.checks.forEach((t=>{e+=t})),this.progress=(e/this.checks.length*100).toFixed(0)}},template:'<div ref="checklist" class="checklist"><div class="checklist__pourcentage">{{ progress }}%</div><div class="checklist__progressbar" :style="\'background-size: \' + this.progress + \'% 100%;\'"></div><ol><li v-for="(line, i) in this.list" :class="this.checks[i]?\'checked\':\'\'" @click="click($event,i)" v-html="line"></li></ol></div>'}),app.component("tune",{props:["src"],data(){var e=new URL(this.src,document.baseURI);let t=e.pathname.split(".").shift(),s=new Audio(e);return s.preload="auto",s.addEventListener("play",(()=>{this.play()})),s.addEventListener("pause",(()=>{this.pause()})),s.addEventListener("ended",(()=>{this.ended()})),this.$root.registerLightSwitch(this),{name:t,sound:s,playInt:null}},methods:{click(){this.sound.paused?this.sound.play():this.sound.pause()},play(){this.playing=!0,this.$refs.button.classList.add("pause"),this.playInt=setInterval((()=>{this.time()}),50)},pause(){this.playing=!1,this.$refs.button.classList.remove("pause"),clearInterval(this.playInt)},ended(){this.$refs.progress.style.width="0%"},seek(e){let t=e.currentTarget.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*this.sound.duration;this.sound.currentTime=s,this.sound.paused&&this.sound.play()},time(){let e=Math.round(this.sound.currentTime/this.sound.duration*1e4)/100;this.$refs.progress.style.width=e+"%"},lightSwitchOff(){this.$refs.waveform.style.backgroundImage="url("+this.name+"-dark.png)"},lightSwitchOn(){this.$refs.waveform.style.backgroundImage="url("+this.name+"-light.png)"}},template:'<div class="tune"><div class="tune__button" ref="button" @click="this.click()"></div><div class="tune__waveform" ref="waveform" :style="\'background-image: url(\\\'\'+this.name+\'-\'+this.$root.theme+\'.png\\\')\'" @click="this.seek"><div class="tune__progress" ref="progress"></div></div></div>'}),app.component("quote",{props:["author","title","photo"],template:'<div class="quote"><blockquote><slot/></blockquote><div class="quote__author"><div class="quote__who"><div class="quote__name">— {{ author }}</div><div class="quote__title">{{ title }}</div></div><div class="quote__photo"><img :src="this.photo"></div></div></div>'}),app.component("wiki",{data(){let e=new URL(document.location);return{list:"",active:null,pages:new Array,hash:cyrb53(e.host+e.pathname)}},created(){this.$nextTick((()=>{0!=this.pages.length&&(document.querySelectorAll("#wiki__pages a").forEach((e=>{e.rel="noopener noreferrer",e.target="_blank"})),setTimeout((()=>{let e=localStorage.getItem("wiki-"+this.hash+"-active");null==e?this.setActivePage(this.pages[0].id):this.setActivePage(e)}),1))}))},methods:{registerPage(e,t){this.pages.push({id:e,name:t})},setActivePage(e,t=null){t&&t.preventDefault(),null!=this.active&&(document.getElementById("wiki-list__"+this.active).classList.remove("active"),document.getElementById("wiki-page__"+this.active).classList.remove("active")),document.getElementById("wiki-list__"+e).classList.add("active"),document.getElementById("wiki-page__"+e).classList.add("active"),localStorage.setItem("wiki-"+this.hash+"-active",e),this.active=e,this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show"),window.scrollTo(0,0)},toggleBurger(){this.$refs.burger.classList.contains("show")?(this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show")):(this.$refs.burger.classList.add("show"),this.$refs.list.classList.add("show"))}},template:'<div id="wiki"><div id="wiki__burger" ref="burger" @click="toggleBurger()"></div><div id="wiki__list" ref="list"><ul><li v-for="el in this.pages"><a :id="\'wiki-list__\' + el.id" @click="setActivePage(el.id, $event)" href="#">{{ el.name }}</a><span>&nbsp;&#x1f4da;</span></li></ul></div><div id="wiki__pages"><slot/></div></div>'}),app.component("wiki-page",{props:["name","date"],data(){let e=new URL(document.location),t=lowslug(this.name),s=new Date,i=s.getFullYear()+"-"+pad(s.getMonth()+1,2)+"-"+pad(s.getDate(),2);return(null==this.date||i>=this.date||"tim-montmorency.com"!=e.host)&&this.$parent.registerPage(t,(null!=this.date&&i<this.date?"::":"")+this.name),{slug:t}},template:'<div :id="\'wiki-page__\' + this.slug" class="wiki__page"><h1>{{ name }}</h1><br><slot/></div>'}),app.component("correction",{props:["scale","value"],data(){let e=this.scale.split(",").map((e=>e.trim()));return{modal:new ModalCorrection,scales:e,criterias:[],score:0,score_txt:""}},created(){this.$nextTick((()=>{this.updateScore()}))},methods:{registerCriteria(e){this.criterias.push(e)},getId(){let e=new URL(location.href,document.baseURI).pathname;return e+=JSON.stringify(this.scales),this.criterias.forEach(((t,s)=>{e+=t.getLabel()})),cyrb53(e)},updateScore(){let e=0,t=0;this.criterias.forEach((s=>{t+=parseFloat(s.value),e+=parseFloat(s.getValue())}));let s=e/t;this.score=+(s*this.value).toFixed(2),this.score_txt=+(100*s).toFixed(2)+"% ("+this.score+"/"+this.value+")"},clear(){this.criterias.forEach((e=>{e.clear()})),this.$refs.comment.classList.remove("show"),this.updateScore()},copy(){navigator.clipboard.writeText(this.score)},open(){openJsonFile((e=>{this.clear(),e.id==this.getId()?(e.criterias.forEach(((e,t)=>{this.criterias[t].setValue(e.idx)})),this.$refs.commentContent.innerText=e.comment,this.$refs.comment.classList.add("show"),this.updateScore()):MessageModal.alert("La correction fournie ne correspond pas aux baramèmes.")}))},download(){this.modal.show((e=>{let t={id:this.getId(),hash:"",date:now(),name:e.name,comment:e.comment,pourcentage:0,score:0,total:0,points:0,scale:+this.value,scales:[],criterias:[]};for(i=this.scales.length-1;i>=0;i--)t.scales.push(this.scales[i]);this.criterias.forEach(((e,s)=>{t.total+=parseFloat(e.value),t.score+=parseFloat(e.getValue()),t.criterias.push({name:e.$refs.name.innerText,label:this.scales[this.scales.length-1-e._value],value:e.getValue(),scale:+e.value,idx:e._value})})),t.points=+(t.score/t.total*this.value).toFixed(2),t.pourcentage=+(t.points/t.scale*100).toFixed(2),t.hash=cyrb53(t.name+t.date+t.pourcentage),downloadJsonObject(t,lowslug(t.name)+".json")}))}},template:'<div class="correction" ref="container"><table><thead><tr><th>Critères</th><th>Barèmes</th></tr></thead><tbody><slot></slot><tr ref="comment" class="correction__comment"><td>Commentaires</td><td ref="commentContent"></td></tr></tbody><tfoot><tr><td>Total</td><td>{{ this.score_txt }}<button class="btn__copy" @click="this.copy();" title="Copier"><svg fill="none" viewBox="0 0 24 24" fill="currentColor"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.5 14H19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v1.5M5 10h7a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7c0-1.1.9-2 2-2Z"/></svg></button><button class="btn__clear" @click="this.clear();" title="Effacer"><svg class="icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="m899 870-53-306h18c14 0 26-12 26-26V346c0-14-12-26-26-26H618V138c0-14-12-26-26-26H432c-14 0-26 12-26 26v182H160c-14 0-26 12-26 26v192c0 14 12 26 26 26h18l-53 306v4c0 14 11 26 26 26h727c14-3 24-16 21-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4-4-8-8-8h-48c-4 0-8 4-8 8v156H416V674c0-4-4-8-8-8h-48c-4 0-8 4-8 8v156H203l45-260h528l45 260H672z"/></svg></button><button class="btn__open" @click="this.open();" title="Ouvrir"><svg class="icon" viewBox="0 -256 1950 1950"><path fill="currentColor" d="M1811 838q0-35-53-35H670q-40 0-85 22-46 21-72 52l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zM670 675h768V515q0-40-28-68t-68-28H766q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28H254q-40 0-68 28t-28 68v853l256-315q44-53 116-87 72-35 140-35zm1269 163q0 62-46 120l-295 363q-43 53-116 88-73 34-140 34H254q-92 0-158-66t-66-158V259q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 25 45 24 67 70 15 32 15 68z"/></svg></button><button class="btn__download" @click="this.download();" title="Télécharger"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 14a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4a1 1 0 0 0-2 0v4a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-4a1 1 0 0 0-1-1Zm-9.7 1.7a1 1 0 0 0 .3.2 1 1 0 0 0 .8 0 1 1 0 0 0 .3-.2l4-4a1 1 0 0 0-1.4-1.4L13 12.6V3a1 1 0 0 0-2 0v9.6l-2.3-2.3a1 1 0 1 0-1.4 1.4Z"/></svg></button></td></tr></tfoot></table></div>'}),app.component("criteria",{props:["value"],data:()=>({_value:0,_target:null}),created(){this.$parent.registerCriteria(this)},methods:{setValue(e){this._target&&this._target.classList.remove("checked"),this._target=this.$refs.scales[this.$refs.scales.length-1-e],this._target.classList.add("checked"),this._value=e},click(e,t){this._target&&this._target.classList.remove("checked"),e.currentTarget.classList.add("checked"),this._target=e.currentTarget,this._value=t,this.$parent.updateScore()},getValue(){return this._value/(this.$parent.scales.length-1)*this.value},getLabel(){return this.$refs.name.innerText},clear(){this._value=0,this._target&&(this._target.classList.remove("checked"),this._target=null)}},template:'<tr class="correction__criteria"><td ref="name"><slot/></td><td><span ref="scales" class="correction__criteria__scale" v-for="(scale, i) in this.$parent.scales" v-html="scale" @click="click($event, this.$parent.scales.length - 1 - i)"></span></td></tr>'});class ModalCorrection extends Modal{form=null;name=null;comment=null;cancel=null;clb=null;constructor(){let e=create("form","correction-modal");e.innerHTML='<table><thead><tr><th colspan="2">Téléchargement de la correction</th></tr></thead><tbody><tr><td>Nom:</td><td><input style="width: 100%;" type="text" name="name" required></td></tr><tr><td>Commentaire:</td><td><textarea name="comment"></textarea></td></tr></tbody><tfoot><tr><td colspan="2"><input type="submit" name="save" value="Télécharger"><input type="button" name="cancel" value="Annuler"></td></tr></tfoot></table>',super(e),this.form=e,this.name=this.form.querySelector('input[name="name"]'),this.comment=this.form.querySelector('textarea[name="comment"]'),this.form.querySelector('input[name="cancel"]').addEventListener("click",(()=>{this.hide()})),bind(this.form,"submit",(e=>{e.preventDefault(),this.save()})),bind(this.cont,"mousedown",(e=>{this.opened&&e.target.classList.contains("modal")&&this.hide()})),bind(document,"keydown",(e=>{this.opened&&"Escape"===e.key&&!(e.ctrlKey||e.altKey||e.shiftKey)&&this.hide()}))}show(e=null){this.clb=e,this.name.value="",this.comment.value="",super.show(),setTimeout((()=>{this.name.focus()}),200)}save(){this.hide(),this.clb&&this.clb({name:this.name.value,comment:this.comment.value})}}app.component("timg",{props:["src","class","alt"],data(){return this.$root.registerLightSwitch(this),{source:this.src.replace(/\$t/g,this.$root.theme)}},methods:{lightSwitchOff(){this.source=this.src.replace(/\$t/g,this.$root.theme)},lightSwitchOn(){this.source=this.src.replace(/\$t/g,this.$root.theme)}},template:'<img :src="this.source" :alt="this.alt" :class="this.class">'});