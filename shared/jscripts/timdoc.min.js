const syncjson=e=>{try{const t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),JSON.parse(t.responseText)}catch(e){return!1}},decimalToHexString=e=>(e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()),cyrb53=(e,t=0)=>{let s=3735928559^t,i=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),s=Math.imul(s^t,2654435761),i=Math.imul(i^t,1597334677);return s=Math.imul(s^s>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),(a=4294967296*(2097151&i)+(s>>>0))<0&&(a=4294967295+a+1),a.toString(16).toUpperCase();var a},lowslug=e=>e.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9\s\-]/g,"").replace(/[\s\t]+/g,"-"),invertColor=(e,t)=>{if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)return!1;var s=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return t?.299*s+.587*i+.114*a>186?"#000000":"#FFFFFF":(s=(255-s).toString(16),i=(255-i).toString(16),a=(255-a).toString(16),"#"+pad(s)+pad(i)+pad(a))},pad=(e,t)=>{t=t||2;var s="000000000"+e;return s.substr(s.length-t)},toDataURL=async e=>{const t=await fetch(e).then((e=>e.blob()));return URL.createObjectURL(t)},download=async e=>{const t=document.createElement("a");t.href=await toDataURL(e),t.download=new URL(e).href.replace(/^.*(\\|\/|\:)/,""),document.body.appendChild(t),t.click(),document.body.removeChild(t)},hcd=(e,t)=>{do{var s=e}while((t=s%(e=t))>0);return e};function timdocMount(){app.config.compilerOptions.whitespace="preserve",app.mount("body"),hljs.highlightAll()}const app=Vue.createApp({data(){let e="true"===localStorage.getItem("darkmode");return{sounds:!1,timgs:[],codepens:[],lightSwitches:[],tableOfContents:[],lightswitchon:null,lightswitchoff:null,darkmode:e,theme:e?"dark":"light"}},mounted(){const e=new URL(document.referrer,document.baseURI),t=document.getElementById("breadcrumb");t&&/\/index\//g.test(e.pathname)&&t.classList.add("index"),null!=this.$refs.lightswitch&&(this.theme=this.darkmode?"dark":"light",document.body.className=this.darkmode?"dark":"light",this.$refs.lightswitch.className=this.darkmode?"lightswitch--off":"lightswitch--on",this.sounds&&(this.lightswitchoff=new Howl({src:[shared+"sounds/lightswitch-off.webm",shared+"sounds/lightswitch-off.mp3"],preload:!0}),this.lightswitchon=new Howl({src:[shared+"sounds/lightswitch-on.webm",shared+"sounds/lightswitch-on.mp3"],preload:!0})))},methods:{goToTop(e=null,t=null){const s=new URL(document.referrer,document.baseURI);t&&/\/index\//g.test(s.pathname)?document.location.href=t:(e||(e="#top"),document.location.href=e)},lightswitch(){"lightswitch--on"==this.$refs.lightswitch.className?(this.$refs.lightswitch.className="lightswitch--off",localStorage.setItem("darkmode","true"),document.body.className="dark",this.theme="dark",this.codepens.forEach((e=>{e.lightSwitchOff()})),this.timgs.forEach((e=>{e.lightSwitchOff()})),this.sounds&&(this.lightswitchon.stop(),this.lightswitchoff.play())):(this.$refs.lightswitch.className="lightswitch--on",localStorage.setItem("darkmode","false"),document.body.className="light",this.theme="light",this.codepens.forEach((e=>{e.lightSwitchOn()})),this.timgs.forEach((e=>{e.lightSwitchOn()})),this.sounds&&(this.lightswitchoff.stop(),this.lightswitchon.play()))},addToTableOfContents(e,t){this.tableOfContents.push({id:e,name:t})},addToCodePens(e){this.codepens.push(e)},addToTimages(e){this.timgs.push(e)}}});app.component("tabledesmatieres",{data:()=>({list:""}),created(){this.$nextTick((()=>{let e="";this.$root.tableOfContents.forEach((t=>{e+='<li><a href="#'+t.id+'">'+t.name+"</a></li>"})),this.list=e}))},template:'\n        <div id="contents_table" v-if="this.list != \'\'">\n            <div class="contents_table__table">\n                <a href="#top" class="no-underline"><strong>Table des matières</strong></a>\n                <ul v-html="list"></ul>\n            </div>\n        </div>\n        '}),app.component("grostitre",{data(){return{id:lowslug(this.$slots.default()[0].children)}},created(){this.$root.addToTableOfContents(this.id,this.$slots.default()[0].children)},methods:{click(e){var t=window.location.origin+window.location.pathname+"#"+this.id;navigator.clipboard.writeText(t);let s=e.currentTarget;s.classList.add("copied"),setTimeout((()=>{s.classList.remove("copied")}),1e3)}},template:'\n        <div class="grostitre">\n            <a :id="this.id"></a>\n            <h2><slot /></h2>\n            <div class="grostitre__chain" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"></path></svg></div>\n            <div class="grostitre__linkcopied">Lien copié &#x2713;</div>\n        </div>'}),app.component("info",{template:'\n        <div class="infobubble info">\n            <div class="infobubble__bubble"></div>\n            <slot/>\n        </div>'}),app.component("warning",{template:'\n        <div class="infobubble warning">\n            <div class="infobubble__bubble"></div>\n            <slot/>\n        </div>'}),app.component("alert",{template:'\n        <div class="infobubble alert">\n            <div class="infobubble__bubble"></div>\n            <slot/>\n        </div>'}),app.component("bravo",{template:'\n        <div class="infobubble bravo">\n            <div class="infobubble__bubble"></div>\n            <slot/>\n        </div>'}),app.component("thumbsup",{template:'\n        <div class="infobubble thumbsup">\n            <div class="infobubble__bubble"></div>\n            <slot/>\n        </div>'}),app.component("incode",{template:'<span class="inline-code"><slot/></span>'}),app.component("mediafile",{props:["src","spacer","addr"],data(){let e="true"==this.spacer?" spacerr":"";try{var t=new URL(this.src)}catch(e){t=new URL(this.src,document.baseURI)}switch(t.href.split(".").pop().toLocaleLowerCase()){case"svg":var s="type-svg.webp";break;case"jpg":s="type-jpg.webp";break;case"png":s="type-png.webp";break;case"webp":s="type-png.webp";break;case"zip":s="type-zip.webp";break;case"mp3":s="type-audio.webp";break;default:s="type-file.webp"}let i=!0;return void 0!==this.addr&&"false"==this.addr&&(i=!1),{isaddr:i,space:e,link:t.href,icon:shared+"images/types/"+s}},methods:{click(e){navigator.clipboard.writeText(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},download(e){download(this.link);let t=e.currentTarget;t.classList.add("copied"),setTimeout((()=>{t.classList.remove("copied")}),1e3)},focus(e){e.currentTarget.select()}},template:'\n        <div :class="\'mediafile\' + this.space">\n            <div class="mediafile__icon" :style="\'background-image: url(\\\'\' + this.icon + \'\\\')\'">&nbsp;</div>\n            <div class="mediafile__text"><slot/></div>\n            <div class="mediafile__download" @click="download($event)"><svg fill="currentColor" viewBox="0 0 538 538"><path d="M463 466H75c-12 0-22 10-22 22v28c0 12 10 22 22 22h388c12 0 21-10 21-22v-28c1-12-9-22-21-22zm-209-38c4 4 10 6 15 6 6 0 11-2 15-6l147-147c9-9 9-22 0-31l-20-20c-8-9-22-9-31 0l-75 75V21c0-11-10-21-22-21h-28c-12 0-22 10-22 21v285l-75-76c-9-8-22-8-31 0l-20 20c-9 9-9 22 0 31l147 147z"/></svg></div>\n            <div class="mediafile__chain" @click="click($event)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"></path></svg></div>\n            <div class="mediafile__linkcopied">Lien copié &#x2713;</div>\n        </div>\n        <div v-if="this.isaddr" :class="\'mediafile__link\' + this.space"><input readonly type="text" class="mediafile__link-text" :value="this.link" @focus="focus($event)"></div>\n        <div class="mediafile__spacer"></div>'}),app.component("codepen",{props:["id","title","tab","height"],data(){var e="html,result",t=400;void 0!==this.tab&&(e=this.tab),void 0!==this.height&&(t=this.height),e=encodeURIComponent(e);let s="";return void 0!==this.$slots.default&&(s=this.$slots.default()[0].children),this.$root.addToCodePens(this),{user:"tim-momo",theme:this.$root.darkmode?"43847":"39618",bheight:t,defaulttab:e,remark:s}},methods:{lightSwitchOn(){this.theme="39618"},lightSwitchOff(){this.theme="43847"}},template:'\n    <div class="codepen-container">\n        <iframe\n            :src="\'https://codepen.io/\' + user + \'/embed/\' + id + \'?default-tab=\' + defaulttab + \'&theme-id=\' + theme"\n            class="codepen"\n            scrolling="no"\n            frameborder="no"\n            loading="lazy"\n            allowtransparency="true"\n            allowfullscreen="true"\n            :style="\'height: \' + bheight + \'px;\'"\n         ></iframe><span class="codepen-remark" v-if="this.remark != \'\'">{{ remark }}</span>\n    </div>'}),app.component("exercice",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"exercice.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'\n        <a class="exercice" target="_blank" :href="this.url">\n            <div class="exercice-container">\n                <div class="exercice-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div>\n                <div class="exercice-abstract">\n                    <em class="exercice-label">EXERCICE</em>\n                    <span class="exercice-title">{{ name }}</span>\n                    <span class="exercice-description">{{ description }}</span>\n                </div>\n            </div>\n        </a>'}),app.component("tool",{props:["href"],data(){let e=this.href.replace(/\/+$/,"")+"/",t=syncjson(e+"tool.json"),s=e+t.icon,i=void 0===t.url?e:t.url;return{name:t.title,description:t.abstract,thumb:s,url:i}},template:'\n        <a class="tool" target="_blank" :href="this.url">\n            <div class="tool-container">\n                <div class="tool-abstract">\n                    <em class="tool-label">OUTIL</em>\n                    <span class="tool-title">{{ name }}</span>\n                    <span class="tool-description">{{ description }}</span>\n                </div>\n                <div class="tool-thumb" :style="\'background-image: url(\\\'\' + this.thumb + \'\\\')\'"></div>\n            </div>\n        </a>'}),app.component("knowmore",{props:["href"],template:'\n        <a class="knowmore" target="_blank" :href="this.href">\n            <div class="knowmore__title">&#128214; EN SAVOIR PLUS</div>\n            <div class="knowmore__abstract"><slot/></div>\n        </a>'}),app.component("doclink",{props:["href","spacer"],data(){let e="";try{switch(new URL(this.href).hostname){case"www.w3schools.com":e="w3schools";break;case"developer.mozilla.org":e="mozilla";break;case"codepen.io":e="codepen";break;case"css-tricks.com":e="csstricks";break;case"getbootstrap.com":e="bootstrap";break;case"fonts.google.com":e="googlefonts";break;case"fr.wikipedia.org":e="wikipedia";break;case"en.wikipedia.org":e="wikipedia";break;case"ogp.me":e="ogp";break;case"developers.facebook.com":e="facebook";break;case"greensock.com":e="greensock";break;case"smnarnold.com":e="smnarnold";break;case"trello.com":e="trello";break;case"sass-lang.com":e="sass";break;case"developer.vuforia.com":e="vuforia";break;case"cmontmorency365-my.sharepoint.com":e="momo";break;case"cmontmorency365.sharepoint.com":e="momo";break;case"teams.microsoft.com":e="momo";break;case"github.com":e="github";break;case"developers.google.com":e="google";break;case"youtu.be":e="youtube";break;case"youtube.com":e="youtube";break;case"www.youtube.com":e="youtube";break;case"www.unity.com":e="unity";break;case"learn.unity.com":e="unity";break;case"id.unity.com":e="unity";break;case"unity.com":e="unity";break}}catch(t){e="zip"==this.href.split(".").pop().toLocaleLowerCase()?"zipfile":""}return"true"==this.spacer&&(e+=" spacer"),{class:e}},template:'\n        <a :class="\'doclink \' + this.class" target="_blank" :href="this.href">\n            <div class="doclink-container">\n                <div class="doclink-icon"></div>\n                <span class="doclink-title"><slot /></span>\n            </div>\n        </a>'}),app.component("dots",{template:'\n        <div class="dots">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor">\n                <rect width="256" height="128" fill="none"/>\n                <circle cx="128" cy="128" r="6"/>\n                <circle cx="64" cy="128" r="6"/>\n                <circle cx="192" cy="128" r="6"/>\n            </svg>\n        </div>'}),app.component("color",{props:["spacer"],data(){let e=this.$slots.default()[0].children;return{color:e,invert:invertColor(e,!0),text:e,space:"true"==this.spacer?" spacer":"",clicked:""}},methods:{click(){navigator.clipboard.writeText(this.color),this.clicked=" clicked",this.text="Copié!",setTimeout((()=>{this.clicked="",this.text=this.color}),2e3)}},template:"\n        <span :class=\"'color' + this.space + this.clicked\" :style=\"'color: ' + this.invert + '; background-color: ' + this.color + ';'\" @click=\"click()\">\n            {{ text }}\n        </span>"}),app.component("clip",{props:["src","title"],data(){let e,t=new URL(this.src,document.baseURI).pathname.split(".").shift(),s=t.split("/").pop(),i=syncjson(t+".json"),a=this.title??"";if(i.media.track.forEach((t=>{"Video"==t["@type"]&&(e=t)})),null==e)return{};{let i=hcd(e.Width,e.Height),l=e.Width/i+"/"+e.Height/i;return{id:s,name:t,title:a,width:e.Width,height:e.Height,aspect:l,thumbnail_url:t+".jpg",playbtn:"block",player:""}}},methods:{play(){this.player='<video id="'+this.id+'" width="100%" height="100%" autoplay="true" poster="'+this.thumbnail_url+'" data-setup=\'{"fluid": true}\' controls preload="auto"><source src="'+this.src+'" type="video/mp4" /></video>',this.playbtn="none"}},template:'\n        <div class="oembed-wrapper" :style="\'background-image: url(\' + this.thumbnail_url + \'); aspect-ratio: \' + this.aspect + \';\'">\n            <div class="oembed-wrapper__title" :style="\'display: \' + this.playbtn + \';\'"><div>{{ title }}</div></div>\n            <div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \' + this.playbtn + \';\'"></div>\n            <div class="oembed-wrapper__player" v-html="player"></div>\n        </div><br>'}),app.component("clipasset",{props:["src","mobile"],data(){let e=!1;return void 0!==this.mobile&&(e=!0),{isMobile:e}},template:'<div class="video-asset-container"><video playsinline :src="this.src" autoplay="true" muted="true" loop="true" :class="\'video-asset\' + (isMobile ? \' mobile-width\' : \'\')"></video></div'}),app.component("youtube",{props:["src"],data(){let e=null;/^[\w\-_]{10,12}$/.test(this.src)?(e=localStorage.getItem("youtube_"+this.src))?e=JSON.parse(e):(e=this.getInfo(this.src))?localStorage.setItem("youtube_"+this.src,JSON.stringify(e)):e=this.getInfo("o-YBDTqX_ZU"):e=syncjson(this.src);let t=hcd(e.width,e.height);return{id:/\/embed\/([^\/]+)\?/g.exec(e.html)[1],title:e.title,width:e.width,height:e.height,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo:e=>syncjson("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+e+"&format=json"),play(){this.player='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+this.id+'?feature=oembed&autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>',this.playbtn="none"}},template:'\n        <div class="oembed-wrapper" :style="\'background-image: url(\' + this.thumbnail_url + \'); aspect-ratio: \' + this.aspect + \';\'">\n            <div class="oembed-wrapper__title" :style="\'display: \' + this.playbtn + \';\'"><div>{{ title }}</div></div>\n            <div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \' + this.playbtn + \';\'"></div>\n            <div class="oembed-wrapper__player" v-html="player"></div>\n        </div><br>'}),app.component("vimeo",{props:["src"],data(){let e=null;(e=localStorage.getItem("vimeo_"+this.src))?e=JSON.parse(e):(e=this.getInfo(this.src))?localStorage.setItem("vimeo_"+this.src,JSON.stringify(e)):e=this.getInfo("844557780");let t=hcd(e.width,e.height);return{id:this.src,title:e.title,width:e.width,height:e.height,aspect:e.width/t+"/"+e.height/t,thumbnail_url:e.thumbnail_url,playbtn:"block",player:""}},methods:{getInfo:e=>syncjson("https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+e),play(){this.player='<iframe src="https://player.vimeo.com/video/'+this.id+'?autoplay=1" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture"></iframe>',this.playbtn="none"}},template:'\n        <div class="oembed-wrapper" :style="\'background-image: url(\' + this.thumbnail_url + \'); aspect-ratio: \' + this.aspect + \';\'">\n            <div class="oembed-wrapper__title" :style="\'display: \' + this.playbtn + \';\'"><div>{{ title }}</div></div>\n            <div class="oembed-wrapper__play" @click="this.play();" :style="\'display: \' + this.playbtn + \';\'"></div>\n            <div class="oembed-wrapper__player" v-html="player"></div>\n        </div><br>'}),app.component("highlight",{props:["lang"],template:'<pre class="highlight"><code :class="\'language-\' + this.lang"><slot /></code></pre>'}),app.component("swiper",{data(){let e=[],t=[],s=[];return this.$slots.default()[0].children.trim().split("\n").forEach((i=>{let a=new URL(i.trim(),document.baseURI).href;s.push('<div class="swiper-slide"><img src="'+a+'"></div>'),t.push('<div class="swiper-slide" style="background-image: url(\''+a+'\')"><img src="'+a+'"></div>'),e.push(a)})),{hash:cyrb53(e.join("")),thslides:s.join(""),slides:t.join(""),images:e,swiper:null,thumbs:null,modal:null,show:!1}},created(){this.$nextTick((()=>{document.addEventListener("keydown",this.hotkeys),this.modal=document.getElementById("swiper-modal-"+this.hash),this.thumbs=new Swiper("#swiper-thumbs-"+this.hash,{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),this.swiper=new Swiper("#swiper-"+this.hash,{spaceBetween:10,pagination:{el:"#swiper-pagination-"+this.hash,type:"fraction"},navigation:{nextEl:"#swiper-button-next-"+this.hash,prevEl:"#swiper-button-prev-"+this.hash},thumbs:{swiper:this.thumbs}})}))},methods:{modalimage(){this.modal.style.backgroundImage="url('"+this.images[this.swiper.activeIndex]+"')"},fullscreen(){this.modalimage(),this.modal.classList.add("swiper-modal--show"),this.show=!0},close(){this.modal.classList.remove("swiper-modal--show"),this.show=!1},hotkeys(e){this.show&&("Escape"!==e.key||e.ctrlKey||e.altKey||e.shiftKey?"ArrowRight"===e.key?(this.swiper.slideNext(),this.modalimage()):"ArrowLeft"===e.key&&(this.swiper.slidePrev(),this.modalimage()):this.close())}},template:'\n        <div class="swiper-container">\n            <div class="swiper-modal" :id="\'swiper-modal-\' + this.hash" @click="close()"></div>\n            <div :id="\'swiper-\' + this.hash" style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper swiper-main">\n                <div class="swiper-wrapper" v-html="slides"></div>\n                <div :id="\'swiper-button-next-\' + this.hash" class="swiper-button-next"></div>\n                <div :id="\'swiper-button-prev-\' + this.hash" class="swiper-button-prev"></div>\n                <div :id="\'swiper-pagination-\' + this.hash" class="swiper-pagination"></div>\n                <div title="Navigue avec les flèches de ton clavier en plein écran" class="swiper-fullscreen" @click="fullscreen()"></div>\n            </div>\n            <div :id="\'swiper-thumbs-\' + this.hash" class="swiper swiper-thumbs">\n                <div class="swiper-wrapper" v-html="thslides"></div>\n            </div>\n        </div>'}),app.component("checklist",{data(){var e="";this.$slots.default().forEach((t=>{if("string"==typeof t.type){var s="";for(i in t.props)s+=" "+i+'="'+t.props[i]+'"';"br"==t.type||"img"==t.type?e+="<"+t.type+s+">":e+="<"+t.type+s+">"+t.children+"</"+t.type+">"}else e+=t.children}));var t=[];e.trim().split("\n").map((e=>{t.push(e.trim())}));var s=this.getHash(t.join());let a=localStorage.getItem("checklist-"+s);if("string"==typeof a){(l=a.split(",").map((e=>parseInt(e)))).length!=t.length&&(l=[],t.forEach((()=>{l.push(0)})))}else{var l=[];t.forEach((()=>{l.push(0)}))}return{hash:s,list:t,checks:l,progressbar:null,progress:0}},created(){this.$nextTick((()=>{this.progressbar=document.getElementById(this.hash+"-progressbar"),this.updateProgressBar()}))},methods:{getHash:e=>cyrb53(window.location.pathname+e),click(e,t){let s=e.currentTarget;this.checks[t]?(this.checks[t]=0,s.classList.remove("checked")):(this.checks[t]=1,s.classList.add("checked")),this.updateProgressBar(),localStorage.setItem("checklist-"+this.hash,this.checks.join(","))},updateProgressBar(){let e=0;this.checks.forEach((t=>{e+=t})),this.progress=(e/this.checks.length*100).toFixed(0)}},template:'\n        <div class="checklist">\n            <div class="pourcentage">{{ progress }}%</div>\n            <div :id="this.hash + \'-progressbar\'" class="progressbar" :style="\'background-size: \' + this.progress + \'% 100%;\'"></div>\n            <ol>\n                <li v-for="(line, i) in this.list" :class="this.checks[i]?\'checked\':\'\'" @click="click($event,i)" v-html="line"></li>\n            </ol>\n        </div>'}),app.component("audioplayer",{props:["src"],data(){var e=new URL(this.src,document.baseURI);let t,s=e.pathname.split(".").shift(),i=s.split("/").pop();if(syncjson(s+".json").media.track.forEach((e=>{"Audio"==e["@type"]&&(t=e)})),null==t)return{};var a=new Howl({src:[e.pathname,s+".webm"],onend:this.onend,preload:!0});return{id:i,name:s,duration:t.Duration,sound:a,playing:!1,playInt:null,progress:0}},methods:{onend(){this.playing=!1,clearInterval(this.playInt),this.progress=0},click(){this.playing?(this.sound.pause(),this.playing=!1,clearInterval(this.playInt)):(this.sound.play(),this.playing=!0,this.playInt=setInterval(this.pos,50))},pos(){let e=(this.sound.seek()/this.duration*100).toFixed(2);e!==this.progress&&(this.progress=e)},seek(e){let t=(e.clientX-e.currentTarget.offsetLeft)/e.currentTarget.offsetWidth*this.duration;this.sound.seek(t),this.playing||(this.sound.play(),this.playing=!0,this.playInt=setInterval(this.pos,50))}},template:'\n    <div class="audioplayer-container">\n        <div class="audioplayer">\n            <div :class="\'audioplayer__button\' + (this.playing ? \' pause\' : \'\')" @click="click()"></div>\n            <div class="audioplayer__waveform" :style="\'background-image: url(\\\'\' + this.name + \'.png\\\')\'" @click="seek($event)">\n                <div class="audioplayer__progress" :style="\'width: \' + this.progress + \'%;\'"></div>\n            </div>\n        </div>\n    </div>'}),app.component("quote",{props:["author","title","photo"],data:()=>({}),template:'\n        <div class="quote">\n            <blockquote><slot/></blockquote>\n            <div class="quote__author">\n                <div class="quote__who">\n                    <div class="quote__name">— {{ author }}</div>\n                    <div class="quote__title">{{ title }}</div>\n                </div>\n                <div class="quote__photo">\n                    <img :src="this.photo">\n                </div>\n            </div>\n        </div>'}),app.component("wiki",{data(){let e=new URL(document.location);return{list:"",hash:cyrb53(e.host+e.pathname),active:null,pages:new Array}},created(){this.$nextTick((()=>{0!=this.pages.length&&setTimeout((()=>{let e=localStorage.getItem("wiki-"+this.hash+"-active");null==e?this.setActivePage(this.pages[0].id):this.setActivePage(e)}),1)}))},methods:{registerPage(e,t){this.pages.push({id:e,name:t})},setActivePage(e){null!=this.active&&(document.getElementById("wiki-list__"+this.active).classList.remove("active"),document.getElementById("wiki-page__"+this.active).classList.remove("active")),document.getElementById("wiki-list__"+e).classList.add("active"),document.getElementById("wiki-page__"+e).classList.add("active"),localStorage.setItem("wiki-"+this.hash+"-active",e),this.active=e,this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show")},toggleBurger(){this.$refs.burger.classList.contains("show")?(this.$refs.burger.classList.remove("show"),this.$refs.list.classList.remove("show")):(this.$refs.burger.classList.add("show"),this.$refs.list.classList.add("show"))}},template:'\n        <div id="wiki">\n            <div id="wiki__burger" ref="burger" @click="toggleBurger()"></div>\n            <div id="wiki__list" ref="list">\n                <ul>\n                    <li v-for="el in this.pages"><a :id="\'wiki-list__\' + el.id" @click="setActivePage(el.id)" href="#">{{ el.name }}</a><span>&nbsp;&#x1f4da;</span></li>\n                </ul>\n            </div>\n            <div id="wiki__pages">\n                <slot/>\n            </div>\n        </div>'}),app.component("wiki-page",{props:["name","date"],data(){let e=new URL(document.location),t=lowslug(this.name),s=new Date,i=s.getFullYear()+"-"+pad(s.getMonth()+1,2)+"-"+pad(s.getDate(),2);return(null==this.date||i>=this.date||"tim-montmorency.com"!=e.host)&&this.$parent.registerPage(t,(null!=this.date&&i<this.date?"::":"")+this.name),{slug:t}},template:'\n        <div :id="\'wiki-page__\' + this.slug" class="wiki__page">\n            <h1>{{ name }}</h1><br>\n            <slot/>\n        </div>'}),app.component("correction",{props:["scale","value"],data(){return{scales:this.scale.split(",").map((e=>e.trim())),criterias:new Array,score:0,score_txt:""}},created(){this.$nextTick((()=>{this.updateScore()}))},methods:{registerCriteria(e){this.criterias.push(e)},updateScore(){let e=0,t=0;this.criterias.forEach((s=>{t+=parseFloat(s.value),e+=parseFloat(s.getValue())}));let s=e/t;this.score=+(s*this.value).toFixed(2),this.score_txt=+(100*s).toFixed(2)+"% ("+this.score+"/"+this.value+")"},clear(){this.criterias.forEach((e=>{e.clear()})),this.updateScore()},copy(){navigator.clipboard.writeText(this.score)}},template:'\n        <div class="correction">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Critères</th>\n                        <th>Barèmes</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <slot></slot>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <td>Total</td>\n                        <td>{{ this.score_txt }}&nbsp;&nbsp;<button @click="this.copy();">Copier</button>&nbsp;&nbsp;<button @click="this.clear();">Effacer</button></td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>'}),app.component("criteria",{props:["value"],data:()=>({_value:0,_target:null}),created(){this.$parent.registerCriteria(this)},methods:{click(e,t){this._target&&this._target.classList.remove("checked"),e.currentTarget.classList.add("checked"),this._target=e.currentTarget,this._value=t,this.$parent.updateScore()},getValue(){return this._value/(this.$parent.scales.length-1)*this.value},clear(){this._value=0,this._target&&(this._target.classList.remove("checked"),this._target=null)}},template:'\n        <tr class="correction__criteria">\n            <td><slot/></td>\n            <td>\n                <span class="correction__criteria__scale" v-for="(scale, i) in this.$parent.scales" v-html="scale" @click="click($event, this.$parent.scales.length - 1 - i)"></span>\n            </td>\n        </tr>'}),app.component("timg",{props:["src","class","alt"],data(){let e=this.src.replace(/\$t/g,this.$root.theme);return this.$root.addToTimages(this),{source:e}},methods:{lightSwitchOff(){this.source=this.src.replace(/\$t/g,this.$root.theme)},lightSwitchOn(){this.source=this.src.replace(/\$t/g,this.$root.theme)}},template:'<img :src="this.source" :alt="this.alt" :class="this.class">'});const urlParams=new URLSearchParams(window.location.search);null!==urlParams.get("dark")&&localStorage.setItem("darkmode","true"),null!==urlParams.get("light")&&localStorage.setItem("darkmode","false");