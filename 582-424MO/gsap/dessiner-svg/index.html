<!DOCTYPE html>
<html lang="fr-ca">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="../../../shared/images/favicon.ico">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,600;1,400&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../../../shared/styles/styles.css">
        <link rel="stylesheet" href="../../../shared/styles/highlight.min.css">
        <link rel="stylesheet" href="../../../shared/styles/video-js.min.css">
        <link rel="stylesheet" href="../../../shared/styles/swiper-bundle.min.css">
        <script src="../../../shared/jscripts/commons.js"></script>
        <script src="../../../shared/jscripts/highlight.min.js"></script>
        <script src="../../../shared/jscripts/howler.min.js"></script>
        <script src="../../../shared/jscripts/swiper-bundle.min.js"></script>
        <script src="../../../shared/jscripts/vue.global.prod.js"></script>
        <script>const shared = '../../../shared/';</script>
        <title>11-Dessiner SVG</title>
    </head>
    <body>
        <script>document.body.className = localStorage.getItem('darkmode') === 'true' ? 'dark' : 'light';</script>
        <a id="top"></a>
        <header>
            <div id="logo" @click="goToTop()">
                <svg class="logo-tim" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1202.33 303.71">
                    <path d="M785.69 166.81l16.26 16.26 16.26-16.26L930.56 54.46v226.25h-257V54.67l112.13 112.14zM650.56.71v303h303V.71h-1.77L801.95 150.54 652.12.71h-1.56zM324.48.46v303h303V.46h-303zm129.93 129.93c-13.08 13.08-13.08 34.29 0 47.38 9.41 9.41 23.02 12.05 34.79 7.92l94.77 94.77H347.48v-257h257v236.49l-94.77-94.77c4.13-11.77 1.48-25.39-7.92-34.79-13.09-13.08-34.3-13.08-47.38 0zM206.47 0L0 206.48V303h303V0h-96.53zM23 280v-64l85.62-85.62 119.87 119.87L249 229.74 129.13 109.87 216 23h64v257H23z"></path>
                </svg>
            </div>
            <div title="Dark mode" id="lightswitch" class="lightswitch--on" ref="lightswitch" @click="lightswitch()"></div>
        </header>
        <main>
            <!-- MAIN HEADER EOF -->
            <div id="subhead">
                <div id="breadcrumb"><a href="../../">Optimisation Web</a> > <a href="../">GSAP</a> ></div>
                <h1 id="title"><img src="images/icon.svg">&nbsp;11-Dessiner SVG</h1>
            </div>
            <article>
                <div id="contents">
                    <!-- ARTICLE HEADER EOF -->


<p>D'abord ajoutons une nouvelle notion: la méthode GSAP qui permet d'initialiser les positions et autres propriétés de
    vos éléments avant d'être animés. La méthode <code>set()</code>. Voir la page <a
        href="../objet-et-methodes/index.html#methode-set" target="_blank" rel="noopener noreferrer">Objet GSAP
        méthodes</a> pour en savoir plus.</p>


 <dots></dots>

 <p>Il sera important pour ce segment de comprendre un peu la nature d'un SVG, pour en savoir plus, consulter cette documentation très complète sur le sujet (naviguer le sous-sujet avec le menu de gauche, traduire en français avec le menu de langue en haut à droite).</p>
 <doclink href='https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes'>SVG remplissage et contour</doclink>
 <dots></dots>

<grostitre>Introduction à drawSVG</grostitre>

<p>DrawSVGPlugin vous permet de révéler (ou de cacher) progressivement le trait d'un SVG <code>&lt;path&gt;</code>, <code>&lt;line&gt;</code>, <code>&lt;polyline&gt;</code>, <code>&lt;polygon&gt;</code>, <code>&lt;rect&gt;</code> ou <code>&lt;ellipse&gt;</code>. Vous pouvez même animer vers l'extérieur en début le trait à partir du centre (ou de n'importe quelle position). Pour ce faire, drawSVG contrôle les propriétés CSS <a href="https://developer.mozilla.org/fr/docs/Web/SVG/Attribute/stroke-dashoffset" target="_blank" rel="noopener noreferrer">stroke-dashoffset</a>  et <a href="https://developer.mozilla.org/fr/docs/Web/SVG/Attribute/stroke-dasharray" target="_blank" rel="noopener noreferrer">stroke-dasharray</a>.</p>
<dots></dots>

<grostitre>Installation de drawSVG</grostitre>



<p>Comme pour tout plugiciel&nbsp;<em>(plugin)</em>&nbsp;GreenSock, afin d'avoir accès à ses fonctionnalités, il est
    nécessaire d'avoir incorporé la librairie GSAP préalablement et d'ajouter ensuite le plugiciel dans le&nbsp;projet.
</p>
<p>Pour ce faire, il est&nbsp;possible:</p>
<ul>

    <li>
        <p>D'utiliser un&nbsp;<a href="https://greensock.com/docs/v3/Installation?checked=core,drawSVG#codepen"  target="_blank">lien hébergé en ligne</a> (comme ce pluciels-ci n'est pas gratuit, allez copier le lien dans l'onglet codePen, vous cliquiez sur le bouton "Copy URL" en bas, à côté de DrawSVGPlugin et l'ajoutez dans une balise <code>script</code>). Cependant, il ne sera utilisable qu'en local (sur votre ordi) ou directement sur codePen.</p>
    </li>
</ul>
<p>Une fois chargé, il est conseillé d'indiquer à GSAP que MotionPath est disponible en inscrivant la ligne de
    code&nbsp;suivante:</p>

    <highlight lang='JavaScript'>gsap.registerPlugin(DrawSVGPlugin);</highlight>

<warning>DrawSVG n'est pas gratuit. Pour l'utiliser dans un projet hébergé sur un serveur Web, vous devez être membre du <a href="https://greensock.com/club/" target="_blank" rel="noopener noreferrer">Club GreenSock</a></strong>. Heureusement vous pouvez tout de même l'utiliser en local ou encore sur CodePen en ajoutant les liens des plugiciels GSAP nécessaires <a href="https://codepen.io/GreenSock/full/JjPwRob" target="_blank" rel="noopener noreferrer">fournis ici</a> .</warning>


<dots></dots>

<grostitre>Le principe de base</grostitre>

<p class="codepen" data-height="480" data-theme-id="44168" data-default-tab="result" data-slug-hash="ExdmrwY" data-user="tim-momo" style="height: 480px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/ExdmrwY">
  GSAP DrawSVG - Démo de base</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>


<p><code>drawSVG:</code> peut contenir 1 ou 2 valeurs. </p>

<p>À la base, ce sont 2 valeurs, séparées par un espace, pour définir une partie de votre ligne, un segment de celle-ci.</p>

<ul>
    <li>Ce peut-être des longueurs absolues (longueurs en pixels sans écrire l'unité) comme par exemple
    <code>"20&nbsp;350".</code>.</li>
    <li>Ou des pourcentages tel que <code>"40%&nbsp;60%"</code>. Dans ce cas, il faudra ajouter l'unité&nbsp;%</li>
    <li>Si vous utilisez une seule valeur, notez que la valeur de départ sera définie par défaut à <code>0</code>.<br> Donc
    si on écrit que la valeur <code>"100%"</code> seule, ce sera donc équivalent à <code>"0&nbsp;100%"</code> ou la
    valeur <code>true</code>. La ligne sera alors entièrement visible.</li>
</ul>



<dots></dots>



<p>Dans l'exemple précédent, on change dynamiquement les valeurs du début et fin de la partie visible du tracé SVG (path).</p>
<p>Si on souhaite voir un tracé se dessiner du début à la fin, on définit <avec la méthode code>set()</code> les propriétés initiales.</p>
<p>Ensuite, sur le clique du bouton par exemple, on active l'animation avec la méthode <code>to()</code>, conjointement avec la propriété <code>drawSVG</code>.</p>

<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="OJBmKjy" data-user="tim-momo" style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/OJBmKjy">
  GSAP DrawSVG - Démo 1 - set</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

<p>On peut aussi simplement utiliser un <code>fromTo()</code> </p>
<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="XWxRGjK" data-user="tim-momo" style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/XWxRGjK">
  GSAP DrawSVG - Démo 1</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>


<dots></dots>

<grostitre>SVG multi-formes/multi-lignes</grostitre>

<p>Comment animer de nombreux traits et échelonner (stagger) les animations ?</p>
<p>L'avantage d'avoir <em>DrawSVGPlugin</em> intégré à GSAP est que vous pouvez l'utiliser pour créer rapidement des effets complexes et avoir un contrôle total sur l'animation (<code>pause</code>, <code>resume</code>, <code>reverse</code>, <code>seek</code> etc.)</p>
<p>Supposons que vous ayez 20 éléments SVG auxquels la classe <code>.dessine-moi</code> a été appliquée et que vous souhaitiez les dessiner de manière décalée, vous pourriez le faire :</p>

<highlight lang='JavaScript'>//Dessinera tous les éléments qui ont la classe "dessine-moi" avec un décalage de début de 0.1 seconde.
gsap.from(".dessine-moi", {
    duration:1, 
    stagger: 0.1, 
    drawSVG: 0
});</highlight>

<p>De même vous pourriez faire une timeline en animant le dessin de plusieurs lignes (paths) une après l'autre.  Et pourquoi pas...  finir avec un remplissage?</p>

<p class="codepen" data-height="600" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="mdzwbEO" data-user="tim-momo" style="height: 600px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/mdzwbEO">
  GSAP DrawSVG - Démo 1 - set() et to()</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>



<dots></dots>

<doclink href='https://greensock.com/docs/v3/Plugins/DrawSVGPlugin'>Plugiciel drawSVG</doclink>


 <script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
                    <!-- ARTICLE FOOTER SOF -->
                </div>
                <tabledesmatieres></tabledesmatieres>
            </article>
            <script src="../../../shared/jscripts/components.js"></script>
        <!-- MAIN FOOTER SOF -->
        </main>
        <footer>
            <div id="copyright">Copyright (c) 2023 Collège Montmorency<br>Techniques d'intégration multimédia</div>
        </footer>
        <script src="../../../shared/jscripts/video.min.js"></script>
    </body>
</html>