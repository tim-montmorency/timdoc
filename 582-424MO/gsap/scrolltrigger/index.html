<!DOCTYPE html>
<html lang="fr-ca">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.0%22%20viewBox%3D%220%200%20307%20306%22%3E%3Cpath%20fill%3D%22%23ff003a%22%20d%3D%22M1%20153v153h306V0h-2c-2%200-22%2020-77%2075l-74%2074-75-74L3%200C1%200%201%208%201%20153zm280%2017v110H27V60l63%2063%2064%2063%2063-63%2064-64v111z%22%2F%3E%3C%2Fsvg%3E">
        <link rel="icon" type="image/x-icon" href="../../../shared/images/favicon.ico">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,600;1,400&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../../../shared/styles/styles.css">
        <link rel="stylesheet" href="../../../shared/styles/highlight.min.css">
        <link rel="stylesheet" href="../../../shared/styles/video-js.min.css">
        <link rel="stylesheet" href="../../../shared/styles/swiper-bundle.min.css">
        <script src="../../../shared/jscripts/commons.js"></script>
        <script src="../../../shared/jscripts/highlight.min.js"></script>
        <script src="../../../shared/jscripts/howler.min.js"></script>
        <script src="../../../shared/jscripts/swiper-bundle.min.js"></script>
        <script src="../../../shared/jscripts/vue.global.prod.js"></script>
        <script>const shared = '../../../shared/';</script>
        <title>6-ScrollTrigger</title>
    </head>
    <body>
        <script>document.body.className = localStorage.getItem('darkmode') === 'true' ? 'dark' : 'light';</script>
        <a id="top"></a>
        <header>
            <div id="logo" @click="goToTop()">
                <svg class="logo-tim" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1202.33 303.71">
                    <path d="M785.69 166.81l16.26 16.26 16.26-16.26L930.56 54.46v226.25h-257V54.67l112.13 112.14zM650.56.71v303h303V.71h-1.77L801.95 150.54 652.12.71h-1.56zM324.48.46v303h303V.46h-303zm129.93 129.93c-13.08 13.08-13.08 34.29 0 47.38 9.41 9.41 23.02 12.05 34.79 7.92l94.77 94.77H347.48v-257h257v236.49l-94.77-94.77c4.13-11.77 1.48-25.39-7.92-34.79-13.09-13.08-34.3-13.08-47.38 0zM206.47 0L0 206.48V303h303V0h-96.53zM23 280v-64l85.62-85.62 119.87 119.87L249 229.74 129.13 109.87 216 23h64v257H23z"></path>
                </svg>
            </div>
            <div title="Dark mode" id="lightswitch" class="lightswitch--on" ref="lightswitch" @click="lightswitch()"></div>
        </header>
        <main>
            <!-- MAIN HEADER EOF -->
            <div id="subhead">
                <div id="breadcrumb"><a href="../../">Optimisation Web</a> > <a href="../">GSAP</a> ></div>
                <h1 id="title"><img src="images/icon.svg">&nbsp;6-ScrollTrigger</h1>
            </div>
            <article>
                <div id="contents">
                    <!-- ARTICLE HEADER EOF -->

<grostitre>Introduction</grostitre>

<p>ScrollTrigger est un plugiciel&nbsp;<em>(plugin)</em>&nbsp;d√©velopp√© par&nbsp;<a href="https://greensock.com/"
        target="_blank">GreenSock</a>&nbsp;permettant de d√©clencher ou synchroniser une animation avec le d√©filement de
    la&nbsp;page.</p>

<h3>Exemples d'utilisation</h3>

<p class="codepen" data-height="500" data-theme-id="44168" data-default-tab="result" data-slug-hash="abRzZvy"
    data-user="tim-momo"
    style="height: 600px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/abRzZvy">
            DEMO ScrollTrigger Downhill Ski</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>
Credit: GSAP
<dots></dots>


<p class="codepen" data-height="500" data-theme-id="44168" data-default-tab="result" data-slug-hash="zYmxoJB"
    data-user="tim-momo"
    style="height: 500px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/zYmxoJB">
            DEMO Welcome to the jungle - ScrollTrigger credits: Louis Hoebregts Follow</a> by TIM Montmorency (<a
            href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>
Credits: Louis Hoebregts

<dots></dots>

<p class="codepen" data-height="500" data-theme-id="44168" data-default-tab="result" data-slug-hash="XWxJNBd"
    data-user="tim-momo"
    style="height: 500px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/XWxJNBd">
            DEMO Weird Fishes - credits: Michelle Barker</a> by TIM Montmorency (<a
            href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>
Credits: Michelle Barker



<dots></dots>

<grostitre>Installation</grostitre>



<p>Comme pour tout plugiciel&nbsp;<em>(plugin)</em>&nbsp;GreenSock, afin d'avoir acc√®s √† ses fonctionnalit√©s, il est
    n√©cessaire d'avoir incorpor√© la librairie GSAP pr√©alablement et d'ajouter ensuite le plugiciel dans le&nbsp;projet.
</p>


<h3>Pour ce faire, il est&nbsp;possible:</h3>
<ul>
    <li>
        De le <a href="https://greensock.com/docs/v3/Installation#download" target="_blank">t√©l√©charger sur le site de
            GreenSock</a>, üì• l'inclure dans votre dossier de projet et ajouter √† la fois le fichier
        <em>gsap-public/minified/gsap-core.min.js</em> si ce n'√©tait pas d√©j√† fait, ainsi que la le plugiciel
        scrollTrigger avec <em>gsap-public/minified/ScrollTrigger.min.js</em>.<br><small>Prioriser toujours les versions
            minifi√©es qui sont plus performantes lors du chargement de la page.</small>
    </li>
    <li>
        D'utiliser un&nbsp;<a href="https://greensock.com/docs/v3/Installation?checked=core,scrollTrigger#CDN"
            target="_blank">Content Delivery Network (CDN)</a>, comme vous avez sans doute l'habitude de faire.
    </li>
    <li>De partir des&nbsp;<a href="https://codepen.io/GreenSock/full/23d3979528b262cb07da37f6a7c7dd76"
            target="_blank">gabarits de base CodePen</a>. Vous devez copier le lien de GSAP Core et celui SrollTrigger
        et, sur votre
        CodePen via <em>Settings/JS/Add External Scripts</em>, y coller successivement les liens.</li>
</ul>

<alert>Toujours porter attention √† l'ordre des liens vers les fichiers JavaScript dans votre HTML. D'abord la librarie
    "core" de GSAP, ensuite le ou les plugiciel(s) GSAP, finalement le fichier JavaScript personnalis√© de votre projet.
</alert>
<warning>Ne pas oublier, au niveau performance, il est pr√©f√©rable de lier les fichiers JavaScript √† la fin de la page
    HTML juste avant la fermeture de <code>&lt;/body&gt;</code>. <br>Pensez "Optimisation Web" ! üìà üéØ ‚ö°</warning>


<dots></dots>




<p>Une fois charg√©e, il est conseill√© d'indiquer √† GSAP que ScrollTrigger est disponible en inscrivant la ligne de
    code&nbsp;suivante:</p>

<highlight lang='JavaScript'>gsap.registerPlugin(ScrollTrigger);</highlight>

<warning>ScrollTrigger n‚Äôest compatible qu‚Äôavec GSAP 3.3.X et&nbsp;plus.</warning>
<alert>Il existe une autre librairie utilisant le nom <em>"ScrollTrigger"</em>. Si une animation ne se d√©clenche pas
    au moment d√©termin√© par ScrollTrigger, il est possible que la mauvaise librairie ait √©t√©&nbsp;charg√©e.</alert>


<dots></dots>


<grostitre>Utilisation de base</grostitre>


<p>Il est possible d'utiliser ScrollTrigger de fa√ßon tr√®s minimaliste. Pour ce faire, il suffit d'ajouter la
    propri√©t√©&nbsp;<code>scrollTrigger</code>&nbsp;√† une animation et de lui attribuer comme valeur le s√©lecteur devant
    d√©clencher l'animation&nbsp;<em>(commun√©ment appel√© le&nbsp;"trigger")</em>.</p>
<p>Par exemple, si un carr√© bleu‚Äâüü¶ poss√®de une animation, mais que le carr√© n'est visible qu'apr√®s avoir fait d√©filer
    la page, il est possible que son animation se termine avant m√™me que l'utilisateur puisse la&nbsp;voir.</p>
<p>Heureusement, l'utilisation de ScrollTrigger permet de retarder le d√©clenchement de l'animation au moment o√π la
    partie sup√©rieure du carr√© devient&nbsp;visible.</p>

<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="oNagLXq"
    data-user="tim-momo"
    style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/oNagLXq">
            GSAP - Timeline - Defaults</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>






<dots></dots>

<grostitre>Utilisation d'un objet {}</grostitre>

<p>Il est possible de raffiner le comportement d'une animation ScrollTrigger. Pour ce faire, il faut utiliser un objet
    JavaScript pouvant contenir plusieurs propri√©t√©s et valeurs plut√¥t qu'une valeur texte comme dans
    l'exemple&nbsp;pr√©c√©dent.</p>
<p>Par exemple, convertissons la valeur textuelle de l'exemple en&nbsp;objet.</p>

<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="MWPYbxw"
    data-user="tim-momo"
    style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/MWPYbxw">
            GSAP - ScrollTrigger Basic</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>



<p>On remarque que la propri√©t√© permettant de d√©clencher l'animation est maintenant sp√©cifi√©e et
    s'appelle&nbsp;<code>trigger</code>.</p>




<dots></dots>

<grostitre>Markers</grostitre>

<p>La propri√©t√©&nbsp;<code>markers</code>&nbsp;permet de simplifier le d√©bogage d'une animation en affichant les
    marqueurs utilis√©s pour contr√¥ler l'animation. Par d√©faut, la valeur de cette propri√©t√© est
    √†&nbsp;<code>false</code>.</p>
<p>Pour l'activer, il faut lui donner la valeur&nbsp;<code>true</code>, comme dans l'exemple&nbsp;suivant:</p>


<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="XWxJNQj"
    data-user="tim-momo"
    style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/XWxJNQj">
            GSAP - ScrollTrigger Object</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>



<p><code>scroller-start</code>&nbsp;et&nbsp;<code>scroller-end</code>&nbsp;sont des marqueurs positionn√©s en lien avec
    la fen√™tre, tandis que&nbsp;<code>start</code>&nbsp;et&nbsp;<code>end</code>&nbsp;sont des marqueurs positionn√©s en
    lien avec le&nbsp;<code>trigger</code>&nbsp;sp√©cifi√©.</p>
<p>On remarque que l'animation du carr√© bleu‚Äâüü¶ d√©bute uniquement lorsque le
    marqueur&nbsp;<code>start</code>&nbsp;croise le marqueur&nbsp;<code>scroll-start</code>.</p>



<dots></dots>
<grostitre>Start et End</grostitre>


<p>Les propri√©t√©s&nbsp;<code>start</code>&nbsp;et&nbsp;<code>end</code>&nbsp;de l'objet ScrollTrigger sont constitu√©es
    de deux valeurs. Une premi√®re correspondant au marqueur associ√© au&nbsp;<code>trigger</code>&nbsp;et une deuxi√®me au
    marqueur associ√© √† la fen√™tre.</p>
<p>Il est possible de modifier ces valeurs en passant une chaine de caract√®res constitu√©e soit de:</p>


<ul>
    <li>
        <p>Positions sous forme de texte:&nbsp;<code>top</code>,&nbsp;<code>center</code>,&nbsp;<code>bottom</code></p>
    </li>
    <li>
        <p>Pourcentage, ex:&nbsp;<code>50%</code></p>
    </li>
    <li>
        <p>Unit√© absolue, ex:&nbsp;<code>200px</code></p>
    </li>
    <li>
        <p>Unit√© relative, ex:&nbsp;&nbsp;<code>+=200</code></p>
    </li>
</ul>


<dots></dots>

<h3 id="Start">Start</h3>

<p>Par d√©faut la propri√©t√©&nbsp;<code>start</code>&nbsp;a la valeur&nbsp;<code>"top bottom"</code>, indiquant que:</p>
<ol>
    <li>top: le marqueur&nbsp;<code>start</code>&nbsp;est positionn√© au sommet (top) de l'<strong>√©l√©ment
            d√©clencheur (<code>trigger</code>)</strong></li>
    <li>bottom: le marqueur&nbsp;<code>scroller-start</code>&nbsp;est positionn√© au bas (bottom) de la&nbsp;<strong>fen√™tre du
            navigateur</strong></li>
</ol>
<p>Donc la premi√®re valeur de ce duo (exemple <code>"top bottom"</code>) correspont √† la postion du marqueur de l'√©l√©ment d√©clencheur
(<code>trigger</code>) et la deuxi√®me valeur correspont √† la position du marqueur de la fen√™tre du navigateur.</p>

    <dots></dots>
<p>Autre exemple: √† la place de d√©clencher l'animation quand elle entre dans la fen√™tre, on pourrait la d√©clencher
    lorsque le milieu de
    l'√©l√©ment d√©clencheur (<code>trigger</code>) atteint 75% de la page, en changeant la valeur de <code>start</code> pour <code>"center 75%"</code>. </p>

<ol>
    <li>center: le marqueur&nbsp;<code>start</code>&nbsp;est positionn√© au centre (center) de l'<strong>√©l√©ment
            d√©clencheur (<code>trigger</code>)</strong></li>
    <li>75%: le marqueur&nbsp;<code>scroller-start</code>&nbsp;est positionn√© √† 75% de la hauteur de la&nbsp;<strong>fen√™tre du
            navigateur</strong></li>
</ol>

<p> En voici l'exemple:</p>



<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="BaqyQEM"
    data-user="tim-momo"
    style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
    <span>See the Pen <a href="https://codepen.io/tim-momo/pen/BaqyQEM">
            GSAP - ScrollTrigger Markers</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
        on <a href="https://codepen.io">CodePen</a>.</span>
</p>


<br>
<doclink href='https://greensock.com/docs/v3/Plugins/ScrollTrigger/start'>start</doclink>

<dots></dots>
<h3 id="End">End</h3>

<p>La propri√©t√©&nbsp;<code>end</code>&nbsp;se comporte exactement comme la propri√©t√©&nbsp;<a rel="noopener noreferrer"
        href="#start">start</a>&nbsp;√† la diff√©rence bien sur qu'elle contr√¥le les
    marqueurs&nbsp;<code>end</code>&nbsp;et&nbsp;<code>scroller-end</code>.</p>


<doclink href='https://greensock.com/docs/v3/Plugins/ScrollTrigger/end'>end</doclink>




<dots></dots>
<grostitre>ToggleActions</grostitre>


<p>La propri√©t√©&nbsp;<code>toggleActions</code>&nbsp;permet de sp√©cifier des actions qui seront d√©clench√©es lors de
    moments&nbsp;pr√©cis.</p>


<h3 class="heading heading--h3" id="Moments">Moments</h3>

<ol start="1">
    <li>
        <p><code>onEnter</code>: lorsque la page d√©file vers le haut‚Äâ‚¨ÜÔ∏è et que le
            marqueur&nbsp;<code>start</code>&nbsp;croise le marqueur&nbsp;<code>scroller-start</code></p>
    </li>
    <li>
        <p><code>onLeave</code>: lorsque la page d√©file vers le haut‚Äâ‚¨ÜÔ∏è et que le
            marqueur&nbsp;<code>end</code>&nbsp;croise le marqueur&nbsp;<code>scroller-end</code></p>
    </li>
    <li>
        <p><code>onEnterBack</code>: lorsque la page d√©file vers le bas‚Äâ‚¨áÔ∏è et que le
            marqueur&nbsp;<code>end</code>&nbsp;croise √† nouveau le marqueur&nbsp;<code>scroller-end</code></p>
    </li>
    <li>
        <p><code>onLeaveBack</code>: lorsque la page d√©file vers le bas‚Äâ‚¨áÔ∏è et que le
            marqueur&nbsp;<code>start</code>&nbsp;croise √† nouveau le marqueur&nbsp;<code>scroller-start</code></p>
    </li>
</ol>



<dots></dots>



<h3 id="Actions">Actions</h3>
<ul>
    <li>
        <code>play</code>: d√©clenche l'animation
    </li>
    <li>
        <code>pause</code>: met l'animation sur&nbsp;pause
    </li>
    <li>
        <code>resume</code>: continue l'animation en fonction de sa progression&nbsp;actuelle
    </li>
    <li>
        <code>reset</code>: ram√®ne l'animation √† son √©tat de&nbsp;d√©part
    </li>
    <li>
        <code>restart</code>: ram√®ne l'animation √† son √©tat de d√©part et la&nbsp;d√©clenche
    </li>
    <li>
        <code>complete</code>: am√®ne l'animation √† son √©tat de fin
    </li>
    <li>
        <code>reverse</code>: joue l'animation en sens inverse en √† partir de sa progression&nbsp;actuelle
    </li>
    <li>
        <code>none</code>: rien ne se&nbsp;produit
    </li>
</ul>



<dots></dots>
<h3>ToggleActions par d√©faut</h3>
<p>Par d√©faut, toggleAction √† une valeur de&nbsp;<code>"play none none none"</code>.</p>

<p>Autrement dit:</p>
<ol start="1">
    <li>
        <code>onEnter</code> l'animation est d√©clench√©e.
    </li>
    <li>
        <code>onLeave</code> rien ne se&nbsp;produit
    </li>
    <li>
        <code>onEnterBack</code>&nbsp;rien ne se&nbsp;produit
    </li>
    <li>
        <code>onLeaveBack</code>&nbsp;rien ne se&nbsp;produit
    </li>
</ol>


<dots></dots>
<h3>Modifier les valeurs par d√©faut de ToggleActions</h3>
<p>Il est possible de modifier ces&nbsp;comportements.</p>
<p>Par exemple, pour qu'une&nbsp;animation:</p>
<ul>
    <li>
        se d√©clenche √† chaque fois que le
        marqueur&nbsp;<code>start</code>&nbsp;croise&nbsp;<code>scroller-start</code>,
    </li>
    <li>
        se compl√®te lorsque le marqueur&nbsp;<code>end</code>&nbsp;croise&nbsp;<code>scroller-end</code>,
    </li>
    <li>
        joue √† l'envers lorsque le
        marqueur&nbsp;<code>end</code>&nbsp;croise&nbsp;<code>scroller-end</code>&nbsp;dans la
        direction&nbsp;oppos√©e,
    </li>
    <li>
        retourne √† son √©tat initial lorsque le
        marqueur&nbsp;<code>start</code>&nbsp;croise&nbsp;<code>scroller-start</code>&nbsp;dans la
        direction&nbsp;oppos√©e,
    </li>
</ul>



<p>il faudra changer la valeur de <code>toggleActions</code> pour<br><code>"restart complete reverse reset"</code></p>
<p>En voici l'exemple: </p>



<p class="codepen" data-height="600" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="rNqajBM" data-user="tim-momo" style="height: 600px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/rNqajBM">
  GSAP -  ScrollTrigger - Start</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>



<dots></dots>
<p>Pour bien visualiser et comprendre chaque moment et chaque action disponible, je vous sugg√®re de regarder cette d√©mo.
</p>


<tool href="../tools/demo-toggleaction/"></tool>



<dots></dots>
<grostitre>Avec une Timeline</grostitre>

<p>Il est possible de combiner ScrollTrigger √† une&nbsp;<a target="_blank" rel="noopener noreferrer"
        href="../timeline">timeline GSAP</a>. Pour ce faire il suffit de passer un objet ScrollTrigger comme
    propri√©t√© dans l'objet de configurations de la timeline en&nbsp;question.</p>


<p>Par exemple:</p>

<p class="codepen" data-height="400" data-theme-id="44431" data-default-tab="js,result" data-slug-hash="WNabRbe" data-user="tim-momo" style="height: 400px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/tim-momo/pen/WNabRbe">
  GSAP -  ScrollTrigger - Timeline</a> by TIM Montmorency (<a href="https://codepen.io/tim-momo">@tim-momo</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>




<doclink href='https://greensock.com/docs/v3/Plugins/ScrollTrigger'>ScrollTrigger</doclink>

<dots></dots>
<exercice href="../exercices/scrolltrigger-historique-zelda"></exercice>

<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
                    <!-- ARTICLE FOOTER SOF -->
                </div>
                <tabledesmatieres></tabledesmatieres>
            </article>
            <script src="../../../shared/jscripts/components.js"></script>
        <!-- MAIN FOOTER SOF -->
        </main>
        <footer>
            <div id="copyright">Copyright (c) 2023 Coll√®ge Montmorency<br>Techniques d'int√©gration multim√©dia</div>
        </footer>
        <script src="../../../shared/jscripts/video.min.js"></script>
    </body>
</html>